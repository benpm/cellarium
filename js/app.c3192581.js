(function(t){function e(e){for(var s,r,o=e[0],l=e[1],c=e[2],u=0,m=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&m.push(a[r][0]),a[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);h&&h(e);while(m.length)m.shift()();return n.push.apply(n,c||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],s=!0,o=1;o<i.length;o++){var l=i[o];0!==a[l]&&(s=!1)}s&&(n.splice(e--,1),t=r(r.s=i[0]))}return t}var s={},a={app:0},n=[];function r(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=s,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(i,s,function(e){return t[e]}.bind(null,s));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var h=l;n.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("cd49")},"1b7a":function(t,e,i){"use strict";i("2dc9")},"2dc9":function(t,e,i){},"4c11":function(t,e,i){"use strict";i.r(e),e["default"]='game of life        :: %Cn9a´ģ+!!Ä!1!!!1"!!!!!!!\nworms               :: %Cn9a´ģ+!!Ä1!11"!122!!!!!\nhilbert             :: %Cn9a´ģ+!!Ä1!!!!2222!!!!!\ntricircuit          :: %Cn9a´ģ+!!Ä2"!!"22"1!!!!!\nsierpinski1         :: %Cn9a´ģ+!!Ä1!!!!2122!!!!!\ncomplex maze        :: %Cn9a´ģ+!!Ä!1!!!12""!!!!!\nglider city         :: %Cn9a´ģ]!!!ĵ"!#!!"!1!"1!!!#"10!1!"!D"A6!!B!1"I!"1!Ĵ%#!!1#!113!!2!!2!!A!!!!!\ncomplex gliders     :: %Cn9a´ģQ"!!ĵG!!$!"A$!!!A!!C!#AQ"A1Q!TQQ4$Q1$14##!1C!!!#T4#!A1!!1#!"!!U!ĵ,!AA!!!QD"!RAR11Q##2!!!1$QTv!ĤQ!Q!3A1!Q##!!QW!b31Q!a!ÄRR#!1T!T7!!U!A!3\'!£R!1!11t!BA!£!QQ$CÝ!!ê!Q!"QÄ!Ĵ+#1#$!!D"$!1"$Q##!""3#!$$!8!Ķ#$$C2!QSR!!!"$!!$R^!B"!b!!M!!*!Ĵ&$1$#"4!#!"!$QA!"#$$$¹!Ķ$!$!C!"!Q$3A$!A#!QCð!´CT!A"AQü!bQQ2BÝ!1$R"Ĕ"1!DA!C#QQ"!C!!!!\nmatrix              :: %Cn9a´ģW"!!1!"!Ĵ6D!""!A!!T!RSA#!!4"S!Q!!C!!!A!B$4A!"QI!Ĵ>1"!"!"$C!Q1$!!S1AS1!D!"33!!"!S!!!$!"!!#D!"Q4.!Ĵ$AQ1!!TS$!#!"$!1"!1J!b!1Q"o!Ĵ%AAQA"!!S!#3#$AQAQ$"W!!º!Ĵ&QS!!C"11!!#QRA!$$1!!b!ÄA$!!14!$ã!QQ!!j!ą#!!A#1D!"#B19!rA!A!$¤!ABBĚ!´2$!#R4C|!!â!!ì!!z!A!1ñ!A!Ql!Ä!$T32!A$Y!a$Q!#ď!Ĵ$SQ!"4"1Q!Q$!!"A1#3/"Ä!!QQS!##^!!ä!ä2A$!!B!!"#!!!!\ncity lights         :: %Cn9a´ģ{%!!Ĵ+!!!!ac!1a1A$!$"#T#!!!A"!d:!Ĵ"Q"!!5!!!CQ1$"b%Q5!Ĵ3#T!A!!ba!A11!DA$!#%#Q!Qa#!!$A!#$!b!ô!!%!QDA!!A%U!Q!!$V!Ĵ)!1QT!a%S!#B!!!1!!211#!!x!1"H!Ĥa!Q$AaA!%A!11a4!Ĵ&a"!"!QU!$!!Q1%!2"!a!¤!Ĥ"#B!"A!aQ!!Q5%c!Ĕa!#aa4d!T""!bn!£###QAS+!Ôe"#!a!aA2Ð!1#s!Ĵ\'1#Q!Aa5!!a!AdA1!$$%!QË!!Ó!Q$Q1r!Ĵ&R!1%!!b"!Q1A!"a!!$QdÂ!A!$ķ!Ķ!C"!%!!1Q%!!5""Qĸ!Ä1"#!%"Qe¹!"%!£AQ!A!DŁ!Ĵ"D!#"S!a!BR!S!#!#ł!Q!C1G!qTQ"1aę!Ĵ.%!2A#!a#1A!a!"!!$"U%$1!!%$14J!1AP!Aa!ú!qS!d$37"Ä!!%%!1QSö!B$!U"a!Q!UP!R!!3(!AQ!L"Õ%a1!!1#T!a"Äa%$!TU!RB!A"A®"ĵ($$$A!!11#A1QRA!"#EA#!#¼!ô!%!B1Q!#%B#ĕ"AS%ä!Ć2!A$##A!!U%QÜ"ô"1"#Q##1%%S¢!!ĵ"rE!!1aÓ"1C®!!¿!Q1"1(!!0!q$!!%RQ#ä%!!%24"#"UV!ĄU$5!E%A#S!!Aě!q"41#CU!QASQ(!A#"ô!"-"AAA2!q%5!5#Ŀ!A$"í"Ô$$!!!A#!1Ĕ!1"}!Aa%?!1E¸!"%!b##A"È#1SÁ#!P!"8!a!!"Sñ!q%!!Qb«"!Å!q!R1"#Ĝ"A$$¯"Ô!!Ce!1!AQŁ"!ĺ"a$A!Qĩ#1Qć"!K#aeA#AO#a!a1!6$ĥQE"2!1B!!Q$$1!É!£1!"#2#b#!Ö#ÔQ!%1a1Q!3>!´C#"Ua!!G"1#đ!A#%º$110#µ#!$e"!#,!aA"1a¡$q!Aa1aÚ#1#ŀ"£%!!#R"Í!a!B!%Ð$´Q!C!1"A2$´#b!5%!"½#aa##c|"¤"!T"%e4!Ä5Qa!A"1$&$1!Ø"1"8"ÄQ!adA$$1ı#!;!Q"$$ĩ$1TÁ"A!a×$Ĵ$""Q$d1AQQ1cb1!R!e1Y!1!ö#ĵ#cU5T!a!%$#!Ab%#!$7"1!Į#1$Ê!!Ķ!Ĵ7AQdQD!!Qa!!aE!aA!A"AQaC#dQ#!%S#1!BQa%N!#û#1$Ł!"ã%B!!Ā"!ü"Ĵ&%Q""#53$!%d%5d!S!a#"!!!!\ncircuit city        :: %Cn9a´ģ©%!!a!QQ!"!a31aS)!Ĵ8#a!!%Q#%!!"!AD"Q!!1#!a!UR#!Aa%!!#"!5$UK!ĕ!!E!a"Aa%b%%Q=!q"!a!A<!ĵN$%!!!TD%QQ!QS"!$!"!"!1a#1$a$!!aT!!!caQ!"!!!$!1S"%#!b1!!ab%!ad!ca$UAÜ!1A·!!p!Å!"!$2!11¥!ôQ!!Ua$a1#$"Ą!A#!ó!b!bBAü!Ĵ%!!A1A%Aa!#b#!!Qa!2!n!¤#Aa!!1y!Ĵ)1%"QD#"a$#"!a1A!!!DA!"CÀ!Ĵ/cU"!S$R!!"QA!!%!A!$!!!A""Q$R1h!AR!Ç!ôe#!1!a"!#!$ø!aR!1!î!!ė!ä!a!Q!A1$$!)"Ĵ51$Q!#!BA!4!!$aA%""a"4#e#!U!$"!%Q!#cP!Ĵ"!3Q%!$Aa$!cB!T!S¾"ĄQ!$%AA!D!aA4É!å!!#%!"ad$3/!qS%1!"I!aa!"!D"1Ač!£!$A#!3¶"Q%13Ñ"Q5!%Ń!Ä%!#e!1$a4!Ĵ"1!d!Qa$%!"cA1"!!6!acQ3!ĕ!Q%1!Đ!QC!!ë"1Ut!c1%#QF!£!5R%%!³"1QY!q!!U1"O!ĔA!#!"%!"AA41"á!B1eG!#]"!·!!?"£A2!$!1}"A4!ľ"!}#!ü!1!~!!a"Ä4!URQ!"dR!£1%A!!QJ!å!!ea#!"Aa1Ī"">!Ķ$!A!AbA"!EAR!!aa""Tû!ö!A$1!!S!QDA2!22ġ!´!1Qa!C"Ġ!A$Sè"Q"2!B!£%$1%QA|#14ę!´!U!A!S!q"r2!!!5æ#Ĵ9e"C"C!#Q!%!U#"!dd!%!T!b%!"b#!A$!$BT$#!#1#R!Q"T!1#«#´eDc$$!#Þ""Q$RQ%$¹!Q$!$s$qQ51#%>!Q!!AÀ!!_"1"í"Ĵ&AB$!$d!U3%#$Q!"#2RQa¼#b!A"A¿#q"2!"Q{"qDAa%%Å#´BdR%!Acã#1"E"1"K"Ĵ*B!%5!!B!Aa"b%aA!!1"$AaB$é$!$"Ą2%!%"Ac2a#TEĺ$ĤQ1"%"!#B!%SQ!!Ė!1$<#ĔQ!!%#$#aT#!d#é"´$#"3!##ą"´Q%!c!!B¦$!/$Ô!1#QQ!Be4Q$ĵ!%!###%!RSR!!!41þ!Ĥa#!bCa!#a!dD#CĻ"Ĵ!Q#B#A$#!!"Q#!!cĚ!1Q{!Q1Q1µ"ä#1Q12S!#aCµ!ôa!!D$!!4!E!ß!Ĵ-1"#!!E"1!#%aaA!c!T!a"!!#TE$!!!!\nchaosbox            :: %Cn9a´ģ¥%!!Ĵ)!!!Q!3#bC!$!!A1!#!S#AA!/!ĵ)RAd!!1!T!c!B!!DQ%A"!%!!%!Ĵ$!!QADQ#!1T1Q!!AQ!#%!Ô5"!Qa$%#Av!Ĵ!"!!!!Aa1!!$#!#bX!ĔS#aAQ1!S!!%a$@!£"!51Q#+!ĄA%!QQ#A"A$$$Î!"¬!Ĕa!c#A!A"1!!1TÐ!1aL!"&!Ĵ8!"$C!a!#1!!Q5A!$%C!A"!!5Q!"!!a!!$"!#!bP!ħ#Q!"%B1T3!B!""9!´D!A#!!3u!Q#!AH!R!!#Z!´!!!$%"!`!£!!U!AE2!"w!ôAa!Aa!"Q!5AN!R$!cZ!RA%!¸!Å1A#!$a!Qs"q!!!CA,!ÖD1S!!!UU5§!õ!T%$"S!#A"aj"Ôa$51R!Q2$ħ!ĵ,!D1!"!A%%QA%%3"!!"#Q$"e2TQr"õ!!!#"!aQd#1½!Ė1#!A%$!a!"c!B½!Ĵ"AQ5$!#!"#$S!!c!5ċ"!Ĝ!ĵ"!"%A!%1$$1!1!$4#5!bU4!!|"B3!ľ!aa!2!Ē"ôQ"$R1!!"A%%ß"ĵ("!!11!Q%!4!1A!%!"cD#!%É"qR$$3"ģ"£!CA$%1Ă!Ĵ9"a!$B!!!E!1%!%Q!Q!Aa%#a"5B##$Q1$C!!##Q%¤#Ĵ*aAa"1!#"A!#!#Q!U#%A!!4a!ą!q!!51!Õ#Ab%à!aa!4!ø!Ĵ+"3$4A!Q2!A""!%S$!%RA!a!aD>!!³"r$U$!Q¾#"´"å1!$c3$Q"!1Ğ!£##!Q!2ě"Q1!$Ö"1%Ĭ!!Ð!ĵ"!Qb!aEA"Aa!aAS1Tģ!´e!bQ!%#î#!Ó##¹"ä1A!Q1!ab!RÁ#qQA!Q%B!1Rē"aQ1!!Ï!ä%#"!"$!Sd#*$1#g"A!%é#q#$RB"|#Ĵ#QE2!$aQ!C!SAd"a%5N#ĄB!A!aA!ca"A!Ù#Ĵ!""1!1aaA#!!%2Q$ÿ"õAa##SS%!!QRĥ!a!!T!?#2B§!Ä"A#R#!a2R!1cN#Ĵ"!EQ51E"Q!AEU#$b!T#1"Ĺ!3aF"bC$!$ě!ÄUeaA!%eAă#ôQCU!!%"QU#!+%!¦$´!!Qe!4a$%AQC="a1"#%ğ$aQQ!1Ĥ!a%Q#!õ"a%!bTu#Ĥ"DE!AA3!!S!Q#"s%AEaä"Ĥa!%Q%1a$!3!1b$Õ$!/"!ĺ!Ä1a!!e#Q"ă"q%%!SSĶ$q%%""!f#1!Ģ$£"1$!%cļ!1$À!r!S#!!m#Ĵ#41"c#a$1!"A!$!$!!!!!!\nmetastable          :: %Cn9a´ģY"!!ĵ9!!A!RA"A!!!#!"!#!C1B!A!!$!!11!!1!!!D!!Q$!£#$!T!34!!6!£#A!R!Q#!£#!C!!CM!Ĵ.11ADQQA"!1!S1R"!32#A!1QQ!!!"Y!Ô$!#!!Q#R#}!ĔAQ!AT!!"4!R41¶!1A¹!aT1#17!q"!!Q2Î!B"CÁ!!Ö!Ĥ!!"$A!#$3!##!CO!ĴAS!"!TQ#!!"!!!R##T!QTQ!"!QQ!1#T!!4BAR""Q!AC!!1TQI!Ĥ#A""$"#1!!Q1!!S!´A#!$!"1&"a1"Q"ĺ!a3$A!2"£$!!$"4!"Ĕ!#!1!A$$C!"QBÄ!Ĵ"!"#S$""!2!!T!TQ1!!!!\nchaotic growth      :: %Cn9a´ģc!!!Ķ(#!!#!!!A!#!A#A1A"A##""1!1!:!Ĥ""!C!1C13!#"AAG!Ĵ#!!AC#2"A1B1#C!!A!!!!!'},"6baf":function(t,e,i){"use strict";i.r(e),e["default"]="/** Fragment shader that maps cellular automata states to nice colors and handles camera */\n\nprecision mediump float;\n\nvarying vec2 vTextureCoord;     // Texture coordinates 0.0 to 1.0\nuniform sampler2D uSampler;     // Simulation texture\nuniform sampler2D uColorMap;    // Colors to be used for states\nuniform vec3 uCam;              // Camera: x, y (pixels), zoom\nuniform vec2 uScreen;           // Screen size in pixels\nuniform vec2 uSimSize;          // Size of the simulation texture\nuniform vec4 uMouse;            // Position of mouse on screen, plus left / right button states\n\nvec4 colorFromState(float state) {\n    return texture2D(uColorMap, vec2((state + 0.5) / 14.0, 0.5));\n}\n\nvoid main(void) {\n    // Grab coordinate into simulation texture\n    vec2 coord = uCam.xy + (vTextureCoord * (uScreen / uCam.z));\n    // Get automaton state\n    float state = floor(texture2D(uSampler, coord / uSimSize).r * 255.0 + 0.5);\n    // Reference colormap tex to draw color to screen\n    gl_FragColor = colorFromState(state);\n\n    // Calculate toroidal distance to mouse\n    vec2 offset = mod(uCam.xy, vec2(1.0));\n    float pMouseDist = distance(\n        ceil((vTextureCoord * uScreen) / uCam.z + offset),\n        ceil((uMouse.xy) / uCam.z + offset)\n    );\n\n    // Mouse click adds cells\n    if (floor(pMouseDist + 1.0) == ceil(uMouse.w)) {\n        gl_FragColor = colorFromState(uMouse.z);\n    }\n}"},"6d64":function(t,e,i){},9672:function(t,e,i){"use strict";i.r(e),e["default"]="/** Fragment shader for drawing on the simulation texture */\n\nprecision mediump float;\n\nvarying vec2 vTextureCoord;     // Texture coordinates 0.0 to 1.0\nuniform sampler2D uSampler;     // Input states texture\nuniform vec2 uSize;             // Size of simulation canvas in pixels\nuniform vec4 uMouse;            // Position of mouse, plus left / right button states\n\n// Convert floating point num to byte\nint fbyte(float n) {\n    return int(floor(n * 255.0));\n}\n\n// Get state of cell at texture position\nint get(vec2 pos) {\n    return fbyte(texture2D(uSampler, pos).r);\n}\n\nvoid main(void) {\n    int state = get(vTextureCoord);\n\n    // Calculate toroidal distance to mouse\n    vec2 pixPos = floor(vTextureCoord * uSize);\n    float pMouseDist = uMouse.w * 2.0;\n    for (int x = -1; x <= 1; x += 1) {\n        for (int y = -1; y <= 1; y += 1) {\n            pMouseDist = min(pMouseDist, distance(pixPos, (uMouse.xy - vec2(x, y)) * uSize));\n        }\n    }\n\n    // Mouse click adds cells\n    if (floor(pMouseDist) < uMouse.w) {\n        if (uMouse.z > -1.0) {\n            state = int(uMouse.z);\n        }\n    }\n\n    // Output new state\n    gl_FragColor = vec4(vec3(float(state) / 255.0), 1.0);\n}"},"9f50":function(t,e,i){"use strict";i("6d64")},a766:function(t,e,i){},b4b0:function(t,e,i){"use strict";i.r(e),e["default"]="/** Fragment shader that simulates multistate totalistic cellular automata */\n\nprecision mediump float;\n\nvarying vec2 vTextureCoord;     // Texture coordinates 0.0 to 1.0\nuniform sampler2D uSampler;     // Input states texture\nuniform sampler2D uRule;        // The cellular automata rule\nuniform sampler2D uBinomial;    // Pre-computed binomial coefficents (n and k up to 32)\nuniform vec2 uSize;             // Size of simulation canvas in pixels\nuniform int uStates;            // Number of states in this rule (MAX 14)\nuniform int uSubIndices;        // Number pf subrule indices\n\n// Convert floating point num to byte\nint fbyte(float n) {\n    return int(floor(n * 255.0));\n}\n\n// Returns binomial coefficient (n choose k) from precompute texture\nint binomial(int n, int k) {\n    ivec4 val = ivec4(floor(texture2D(uBinomial, vec2(\n        (float(n) + 0.5) / 32.0,\n        (float(k) + 0.5) / 32.0\n    )) * 255.0 + 0.5));\n    return val.a * 16777216 + val.b * 65536 + val.g * 256 + val.r;\n}\n\n// Get state of cell at texture position\nint get(vec2 pos) {\n    return fbyte(texture2D(uSampler, pos).r);\n}\n\nvoid main(void) {\n    int curstate = get(vTextureCoord);\n\n    // Counts of each neighbor type\n    int nCounts[14];\n    for (int i = 0; i < 14; i++) {\n        if (i == curstate) {\n            nCounts[i] = -1;\n        } else {\n            nCounts[i] = 0;\n        }\n    }\n    // Size of a pixel in texture coordinates\n    vec2 pSize = 1.0 / uSize;\n\n    // Determine neighbor counts\n    for (int x = -1; x <= 1; x += 1) {\n        for (int y = -1; y <= 1; y += 1) {\n            int v = get(vTextureCoord + pSize * vec2(x, y));\n            for (int i = 0; i < 14; i++) {\n                if (i == v) {\n                    nCounts[i] += 1;\n                    break;\n                }\n            }\n        }\n    }\n\n    // Determine the 1D index into the rule texture\n    int subIndex = 0;\n    int x = uStates;\n    int y = 8;\n    for (int i = 0; i < 14; i++) {\n        if (i < uStates && i > 0) {\n            int v = nCounts[i];\n            if (v > 0) {\n                subIndex += binomial(y + x - 1, x - 1) - binomial(y - v + x - 1, x - 1);\n            }\n            x -= 1;\n            y -= v;\n        }\n    }\n    // Compute final rule index given current state and neighbor states\n    int ruleIndex = curstate * uSubIndices + subIndex;\n    // Convert 1D rule index into 2D coordinate into rule texture\n    int newstate = int(floor(texture2D(uRule,\n        vec2(\n            (mod(float(ruleIndex), 1024.0) + 0.5) / 1024.0,\n            (floor(float(ruleIndex) / 1024.0) + 0.5) / 1024.0\n        )).r * 255.0 + 0.5));\n\n    // Output new state\n    gl_FragColor = vec4(vec3(float(newstate) / 255.0), 1.0);\n}"},b8b8:function(t,e,i){"use strict";i.r(e),e["default"]="attribute vec2 aVertexPosition;\nvarying vec2 vTextureCoord;\n\nvoid main() {\n    gl_Position = vec4(aVertexPosition, 0.0, 1.0);\n    vTextureCoord = aVertexPosition / 2.0 + vec2(0.5, 0.5);\n    //vTextureCoord = 2.0 - vTextureCoord;\n}"},cd49:function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var s=i("7a23"),a=Object(s["f"])("link",{href:"https://fonts.googleapis.com/icon?family=Material+Icons",rel:"stylesheet"},null,-1);function n(t,e,i,n,r,o){var l=Object(s["m"])("Automata");return Object(s["g"])(),Object(s["d"])(s["a"],null,[a,Object(s["f"])(l)],64)}var r=i("d4ec"),o=i("262e"),l=i("2caf"),c=i("9ab4"),h=i("ce1f"),u=(i("90d7"),i("a9e3"),Object(s["s"])("data-v-598d24bd"));Object(s["j"])("data-v-598d24bd");var m={class:"automataWindow grid items-start justify-center"},f={id:"ui-container",class:"grid overflow-visible justify-center grid-flow-col-dense place-items-center p-2 gap-2"},g={class:"dropdown-item value-slider"},d=Object(s["f"])("span",{class:"material-icons"},"line_weight",-1),A={class:"label"},p={class:"dropdown-item value-slider"},b=Object(s["f"])("span",{class:"material-icons"},"palette",-1),v={class:"label"},T={class:"dropdown-item value-slider"},E=Object(s["f"])("span",{class:"material-icons"},"speed",-1),$={class:"label"},Q={class:"dropdown-item value-slider"},R=Object(s["f"])("span",{class:"material-icons"},"crop_free",-1),S={class:"label"},x={class:"dropdown-item menu"},U=Object(s["f"])("span",{class:"material-icons"},"toc",-1),_={class:"text"},y=Object(s["f"])("span",{class:"material-icons"},"arrow_drop_down_circle",-1),w={class:"menu-items",id:"presets-menu-items"},C={class:"dropdown-item value-slider"},O=Object(s["f"])("span",{class:"material-icons"},"style",-1),D={class:"label"},P={key:0,class:"material-icons"},j={key:1,class:"material-icons"},M=Object(s["f"])("span",{class:"material-icons"},"skip_next",-1),B=Object(s["f"])("span",{class:"material-icons"},"casino",-1),k=Object(s["f"])("span",{class:"material-icons"},"format_color_fill",-1),z=Object(s["f"])("span",{class:"material-icons"},"clear",-1),F={id:"glCanvas",ref:"glCanvas"};Object(s["h"])();var X=u((function(t,e,i,a,n,r){var o=Object(s["m"])("dropdown");return Object(s["g"])(),Object(s["d"])("div",m,[Object(s["f"])("div",f,[Object(s["f"])(o,{icon_name:"edit",dropdown_title:"Pen Settings",onHideAll:e[3]||(e[3]=function(e){return t.hideall=!t.hideall}),vd:t.hideall},{default:u((function(){return[Object(s["f"])("div",g,[d,Object(s["q"])(Object(s["f"])("input",{type:"range",min:"1",max:"200","onUpdate:modelValue":e[1]||(e[1]=function(e){return t.simulator.pen.size=e})},null,512),[[s["o"],t.simulator.pen.size]]),Object(s["f"])("span",A,Object(s["n"])(t.simulator.pen.size),1)]),Object(s["f"])("div",p,[b,Object(s["q"])(Object(s["f"])("input",{type:"range",min:"1",max:t.simulator.states-1,"onUpdate:modelValue":e[2]||(e[2]=function(e){return t.simulator.pen.state=e})},null,8,["max"]),[[s["o"],t.simulator.pen.state]]),Object(s["f"])("span",v,Object(s["n"])(t.simulator.pen.state),1)])]})),_:1},8,["vd"]),Object(s["f"])(o,{icon_name:"video_settings",dropdown_title:"Simulation Settings",onHideAll:e[6]||(e[6]=function(e){return t.hideall=!t.hideall}),vd:t.hideall},{default:u((function(){return[Object(s["f"])("div",T,[E,Object(s["q"])(Object(s["f"])("input",{type:"range",min:"1",max:"16","onUpdate:modelValue":e[4]||(e[4]=function(e){return t.simulator.stepsPerFrame=e})},null,512),[[s["o"],t.simulator.stepsPerFrame]]),Object(s["f"])("span",$,Object(s["n"])(t.simulator.stepsPerFrame),1)]),Object(s["f"])("div",Q,[R,Object(s["f"])("input",{type:"range",min:"8",max:"12",value:Math.floor(Math.log2(t.simulator.simSize)),onInput:e[5]||(e[5]=function(e){return t.simulator.simSize=Math.pow(2,Number(e.target.value))})},null,40,["value"]),Object(s["f"])("span",S,Object(s["n"])(t.simulator._simSize)+"x",1)])]})),_:1},8,["vd"]),Object(s["f"])(o,{icon_name:"edit_note",dropdown_title:"Rule Settings",onHideAll:e[10]||(e[10]=function(e){return t.hideall=!t.hideall}),vd:t.hideall},{default:u((function(){return[Object(s["f"])("div",x,[U,Object(s["f"])("div",_,Object(s["n"])(t.simulator.preset),1),Object(s["f"])("button",{class:"menu-button",onClick:e[7]||(e[7]=function(e){return t.presetsShow=!t.presetsShow}),onClickOnce:e[8]||(e[8]=function(e){return t.simulator.populatePresets(e.target)})},[y,Object(s["q"])(Object(s["f"])("div",w,null,512),[[s["p"],t.presetsShow]])],32)]),Object(s["f"])("div",C,[O,Object(s["q"])(Object(s["f"])("input",{type:"range",name:"nstates",id:"nstates-slider",min:"2",max:"14","onUpdate:modelValue":e[9]||(e[9]=function(e){return t.simulator.states=e})},null,512),[[s["o"],t.simulator.states,void 0,{number:!0}]]),Object(s["f"])("span",D,Object(s["n"])(t.simulator.states),1)])]})),_:1},8,["vd"]),Object(s["f"])("button",{class:"options-button",onClick:e[11]||(e[11]=function(e){return t.simulator.pause=!t.simulator.pause})},[t.simulator&&t.simulator.pause?(Object(s["g"])(),Object(s["d"])("span",P,"play_arrow")):Object(s["e"])("",!0),t.simulator&&t.simulator.pause?Object(s["e"])("",!0):(Object(s["g"])(),Object(s["d"])("span",j,"pause"))]),Object(s["f"])("button",{class:"options-button",onClick:e[12]||(e[12]=function(e){return t.simulator.step()})},[M]),Object(s["f"])("button",{class:"options-button",onClick:e[13]||(e[13]=function(e){return t.simulator.newRule()})},[B]),Object(s["f"])("button",{class:"options-button",onClick:e[14]||(e[14]=function(e){return t.fillRandom()})},[k]),Object(s["f"])("button",{class:"options-button",onClick:e[15]||(e[15]=function(e){return t.simulator.clear()})},[z])]),Object(s["f"])("canvas",F,null,512)])})),L=(i("99af"),i("ac1f"),i("1276"),i("498a"),i("b85c")),I=(i("cb29"),i("4160"),i("d81d"),i("fb6a"),i("b0c0"),i("4ec9"),i("4fad"),i("d3b7"),i("3ca3"),i("cfc3"),i("5cc6"),i("84c3"),i("9a8c"),i("a975"),i("735e"),i("c1ac"),i("d139"),i("3a7b"),i("d5d6"),i("82f8"),i("e91f"),i("60bd"),i("5f96"),i("3280"),i("3fcc"),i("ca91"),i("25a1"),i("cd26"),i("3c5d"),i("2954"),i("649e"),i("219c"),i("170b"),i("b39a"),i("72f7"),i("159b"),i("ddb0"),i("bee2")),N=i("b64a"),G=i.n(N);function q(t){for(var e=1,i=2;i<=t;i++)e*=i;return e}function H(t,e){return Math.floor(q(t)/(q(e)*q(t-e)))}function V(t){return H(t+8-1,t-1)}function W(t,e){return t-e*Math.floor(t/e)}function Y(t){return t*V(t)}function K(t){for(var e=3;e<=14;e++)if(Y(e)>t)return e-1}for(var J="!\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~¡¢£¤¥¦§¨©ª«¬®¯°±²³´µ¶·¸¹º»¼½¾¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖ×ØÙÚÛÜÝÞßàáâãäåæçèéêëìíîïðñòóôõö÷øùúûüýþÿĀāĂăĄąĆćĈĉĊċČčĎďĐđĒēĔĕĖėĘęĚěĜĝĞğĠġĢģĤĥĦħĨĩĪīĬĭĮįİıĲĳĴĵĶķĸĹĺĻļĽľĿŀŁłŃńŅņŇňŉŊŋŌōŎŏŐőŒœŔŕŖŗŘřŚśŜŝŞşŠšŢţŤťŦŧŨũŪūŬŭŮůŰűŲųŴŵŶŷŸŹźŻżŽžſƀƁƂƃƄƅƆƇƈƉƊƋƌƍƎƏƐƑƒƓƔƕƖƗƘƙƚƛƜƝƞƟƠơƢƣƤƥƦƧƨƩƪƫƬƭƮƯưƱƲƳƴƵƶƷƸƹƺƻƼƽƾƿǀǁǂ",Z={},tt=0;tt<J.length;tt++)Z[J.charCodeAt(tt)]=tt;var et=new Uint8Array(Math.pow(4096,2));function it(t){for(var e=0;e<et.length;e++)et[e]=Math.floor(Math.random()*t)}var st=function(){function t(e,i,s){Object(r["a"])(this,t),this.canvas=e,this.presets=i,this.simUniforms={},this._simSize=1024,this.ruleData=new Uint8Array(Math.pow(1024,2)),this.colorMap=new Uint8Array([20,20,20,220,220,220,220,50,50,50,220,50,50,50,220,220,220,50,50,220,220,220,50,220,220,50,175,50,220,175,175,50,220,220,220,175,175,220,50,50,175,220]),this.nStateMap=new Map,this._states=2,this.nSubIndices=V(this._states),this.pen={state:1,size:50},this._preset="game of life",this.doStep=!1,this.pause=!1,this.stepsPerFrame=1,this.flip=!1,this.steps=0,this.frames=0,this.lastFPSSample=Date.now(),this.fps=0,this.cam={x:0,y:0,zoom:1,panstartcam:{x:0,y:0},panstartmouse:{x:0,y:0},panning:!1,move:{x:0,y:0}},this.gl=this.canvas.getContext("webgl2"),this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight;for(var a=2;a<=14;a++)this.nStateMap.set(Y(a),a);this.webGlSetup(s),it(this._states),this.resetSim()}return Object(I["a"])(t,[{key:"preset",get:function(){return this._preset},set:function(t){this._preset=t,this.presets[t]&&this.importRule(this.presets[t])}},{key:"simSize",get:function(){return this._simSize},set:function(t){this._simSize=t,this.fbA&&this.fbB&&(this.clear(),this.texSetup())}},{key:"populatePresets",value:function(){for(var t=this,e=document.getElementById("presets-menu-items"),i=function(){var i=a[s],n=document.createElement("span");n.innerHTML=i[0],n.className="menu-item",n.addEventListener("click",(function(){t.preset=i[0]})),null===e||void 0===e||e.appendChild(n)},s=0,a=Object.entries(this.presets);s<a.length;s++)i()}},{key:"mouseHandler",value:function(t){this.drawUniforms.mouse.val[0]=Math.floor(W(this.cam.x+Math.floor(t.pageX-2)/this.cam.zoom,this.simSize))/this.simSize,this.drawUniforms.mouse.val[1]=Math.floor(W(this.cam.y+Math.floor(t.pageY-2)/this.cam.zoom,this.simSize))/this.simSize,this.cam.panning&&(this.cam.x=W(this.cam.panstartcam.x+(this.cam.panstartmouse.x-t.pageX)/this.cam.zoom,2*this.simSize),this.cam.y=W(this.cam.panstartcam.y+(this.cam.panstartmouse.y-t.pageY)/this.cam.zoom,2*this.simSize)),this.gl.useProgram(this.drawProgram),this.gl.uniform4fv(this.drawUniforms.mouse.loc,this.drawUniforms.mouse.val),this.gl.useProgram(this.colorProgram),this.colorUniforms.mouse.val[0]=Math.floor(t.pageX),this.colorUniforms.mouse.val[1]=Math.floor(t.pageY),this.colorUniforms.mouse.val[2]=this.pen.state,this.colorUniforms.mouse.val[3]=this.drawUniforms.mouse.val[3],this.gl.uniform4fv(this.colorUniforms.mouse.loc,this.colorUniforms.mouse.val)}},{key:"clickOn",value:function(t){switch(t.button){case 0:this.drawUniforms.mouse.val[2]=this.pen.state;break;case 1:this.cam.panning=!0,this.cam.panstartmouse.x=t.pageX,this.cam.panstartmouse.y=t.pageY,this.cam.panstartcam.x=this.cam.x,this.cam.panstartcam.y=this.cam.y,this.canvas.style.cursor="move";break;case 2:this.drawUniforms.mouse.val[2]=0;break}}},{key:"clickOff",value:function(t){switch(t.button){case 0:case 2:this.drawUniforms.mouse.val[2]=-1;break;case 1:this.cam.panning=!1,this.canvas.style.cursor="";break}}},{key:"onScrollWheel",value:function(t){var e=this.cam.zoom;this.cam.zoom=Math.max(Math.min(this.cam.zoom+(t.deltaY<0?1:-1),32),1),this.cam.x+=this.canvas.width/(2*e)-this.canvas.width/(2*this.cam.zoom),this.cam.y+=this.canvas.height/(2*e)-this.canvas.height/(2*this.cam.zoom)}},{key:"randomRule",value:function(){for(var t=Y(this.states),e=new Uint8Array(t),i=Math.max(1-1/Math.pow(this.states,.5),.5),s=0;s<t;s++)Math.random()<i?e[s]=0:e[s]=Math.floor(Math.random()*this.states);return e}},{key:"newRule",value:function(){this.setRule(this.randomRule())}},{key:"exportRule",value:function(t){console.info("exporting rule length ".concat(t.length));for(var e=[],i=0;i<t.length;i+=4){for(var s=0,a=0;a<4&&i+a<t.length;a++)s|=t[i+a]<<4*a;e.push(s)}var n=new Uint16Array(e),r=new Uint8Array(n.buffer),o=new Uint16Array(G.a.compress(r)),l="";return o.forEach((function(t){return l+=J[t]})),l}},{key:"importRule",value:function(t){var e=new Uint8Array(t.length);e=e.map((function(e,i){return Z[t.charCodeAt(i)]}));for(var i=G.a.decompress(e),s=new Uint16Array(i.buffer),a=0,n=0;n<s.length;n++)for(var r=0;r<4;r++)this.ruleData[a]=s[n]>>4*r&15,a+=1;this.states=K(a),this.regenRuleTex()}},{key:"customRule",value:function(){var t=prompt("input some text:");if(t){K(t.length);var e=new Uint8Array(Y(this.states));e.fill(0);for(var i=0;i<t.length;i++)e[i]=t.charCodeAt(i)%this.states;this.setRule(e)}}},{key:"clear",value:function(){this.flip=!1,this.fbA&&this.fbB&&(this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.fbA),this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.fbB),this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT))}},{key:"germinate",value:function(){this.clear();var t=this.simSize*(this.simSize/2);et[t]=this.pen.state,this.texSetup()}},{key:"resetSim",value:function(){this.clear(),this.texSetup()}},{key:"import",value:function(){var t,e;null===(t=document.querySelector("#ruledata"))||void 0===t||t.select(),document.execCommand("paste"),this.importRule(null===(e=document.querySelector("#ruledata"))||void 0===e?void 0:e.value)}},{key:"export",value:function(){var t;document.querySelector("#ruledata").value=this.exportRule(this.ruleData.slice(0,Y(this.states))),null===(t=document.querySelector("#ruledata"))||void 0===t||t.select(),document.execCommand("copy")}},{key:"step",value:function(){this.pause=!0,this.doStep=!0}},{key:"mutate",value:function(){for(var t=Y(this.states),e=Math.ceil(t/20),i=0;i<e;i++){var s=Math.floor(Math.random()*t);this.ruleData[s]=Math.floor(Math.random()*this.states)}this.regenRuleTex()}},{key:"onKey",value:function(t){var e=t.key;switch(e){case" ":case"Space":case"spacebar":this.pause=!this.pause;break;case"s":this.step();break;case"r":this.newRule();break;case"g":this.germinate();break;case"f":it(this._states),this.resetSim();break;case"m":this.mutate();break;case"c":case"backspace":case"delete":this.clear();break;case"ArrowLeft":this.cam.move.x=-3;break;case"ArrowRight":this.cam.move.x=3;break;case"ArrowUp":this.cam.move.y=-3;break;case"ArrowDown":this.cam.move.y=3;break;default:if(!isNaN(parseInt(e))){var i=parseInt(e);i>=1&&i<this.states&&(this.pen.state=i)}break}}},{key:"onKeyUp",value:function(t){var e=t.key;switch(e){case"ArrowLeft":case"ArrowRight":this.cam.move.x=0;break;case"ArrowUp":case"ArrowDown":this.cam.move.y=0;break}}},{key:"texSetup",value:function(){this.texA=this.texA||this.gl.createTexture(),this.gl.bindTexture(this.gl.TEXTURE_2D,this.texA),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.R8,this.simSize,this.simSize,0,this.gl.RED,this.gl.UNSIGNED_BYTE,et.subarray(0,Math.pow(this.simSize,2))),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.REPEAT),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.REPEAT),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.fbA=this.fbA||this.gl.createFramebuffer(),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.fbA),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,this.texA,0),this.texB=this.texB||this.gl.createTexture(),this.gl.bindTexture(this.gl.TEXTURE_2D,this.texB),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.R8,this.simSize,this.simSize,0,this.gl.RED,this.gl.UNSIGNED_BYTE,null),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.REPEAT),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.REPEAT),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.fbB=this.fbB||this.gl.createFramebuffer(),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.fbB),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,this.texB,0),this.gl.useProgram(this.simProgram),this.gl.uniform2fv(this.simUniforms.size.loc,[this.simSize,this.simSize]),this.gl.useProgram(this.colorProgram),this.gl.uniform2fv(this.colorUniforms.simSize.loc,[this.simSize,this.simSize]),this.gl.useProgram(this.drawProgram),this.gl.uniform2fv(this.drawUniforms.size.loc,[this.simSize,this.simSize])}},{key:"animateScene",value:function(){if(this.gl.viewport(0,0,this.simSize,this.simSize),!this.pause||this.doStep){this.gl.useProgram(this.simProgram),this.gl.activeTexture(this.gl.TEXTURE1),this.gl.bindTexture(this.gl.TEXTURE_2D,this.ruleTex),this.gl.activeTexture(this.gl.TEXTURE2),this.gl.bindTexture(this.gl.TEXTURE_2D,this.binomialTex);for(var t=0;t<this.stepsPerFrame;t++)if(this.flip=!this.flip,this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.flip?this.fbB:this.fbA),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,this.flip?this.texA:this.texB),this.gl.drawArrays(this.gl.TRIANGLES,0,6),this.steps+=1,this.doStep){this.doStep=!1;break}}this.flip=!this.flip,this.gl.useProgram(this.drawProgram),this.drawUniforms.mouse.val[3]=this.pen.size,this.gl.uniform4fv(this.drawUniforms.mouse.loc,this.drawUniforms.mouse.val),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.flip?this.fbB:this.fbA),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,this.flip?this.texA:this.texB),this.gl.drawArrays(this.gl.TRIANGLES,0,6),this.gl.viewport(0,0,this.canvas.width,this.canvas.height),this.gl.useProgram(this.colorProgram),this.cam.x+=this.cam.move.x,this.cam.y+=this.cam.move.y,this.gl.uniform3fv(this.colorUniforms.cam.loc,[this.cam.x,this.cam.y,this.cam.zoom]),this.colorUniforms.mouse.val[2]=this.pen.state,this.colorUniforms.mouse.val[3]=this.drawUniforms.mouse.val[3],this.gl.uniform4fv(this.colorUniforms.mouse.loc,this.colorUniforms.mouse.val),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,this.flip?this.texB:this.texA),this.gl.activeTexture(this.gl.TEXTURE1),this.gl.bindTexture(this.gl.TEXTURE_2D,this.colorMapTex),this.gl.drawArrays(this.gl.TRIANGLES,0,6),this.frames+=1,Date.now()-this.lastFPSSample>=1e3&&(this.fps=this.frames,this.lastFPSSample=Date.now()),window.requestAnimationFrame(this.animateScene.bind(this))}},{key:"buildBinomial",value:function(){console.info("Building binomial coefficient tex...");var t=new Uint8Array(4096);t.fill(0);for(var e=0;e<32;e++)for(var i=0;i<32;i++){var s=H(e,i),a=4*(32*i+e);t[a+0]=255&s,t[a+1]=s>>8&255,t[a+2]=s>>16&255,t[a+3]=s>>24&255}this.binomialTex=this.gl.createTexture(),this.gl.bindTexture(this.gl.TEXTURE_2D,this.binomialTex),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,32,32,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,t),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST)}},{key:"compileShader",value:function(t,e,i){var s=this.gl.createShader(i);return s?(this.gl.shaderSource(s,e),this.gl.compileShader(s),this.gl.getShaderParameter(s,this.gl.COMPILE_STATUS)||(console.error("Error compiling ".concat(i===this.gl.VERTEX_SHADER?"vertex":"fragment",' shader "').concat(t,'":')),console.log(this.gl.getShaderInfoLog(s)))):console.error("shader ".concat(t," not compiled")),s}},{key:"buildShaderProgram",value:function(t){var e=this.gl.createProgram();if(e){var i,s=Object(L["a"])(t);try{for(s.s();!(i=s.n()).done;){var a=i.value,n=this.compileShader(a.name,a.code,a.type);n&&this.gl.attachShader(e,n)}}catch(r){s.e(r)}finally{s.f()}this.gl.linkProgram(e),this.gl.getProgramParameter(e,this.gl.LINK_STATUS)||(console.error("Error linking shader program:"),console.info(this.gl.getProgramInfoLog(e)))}return e}},{key:"regenRuleTex",value:function(){this.gl.useProgram(this.simProgram),this.ruleTex=this.ruleTex||this.gl.createTexture(),this.gl.bindTexture(this.gl.TEXTURE_2D,this.ruleTex),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.LUMINANCE,1024,1024,0,this.gl.LUMINANCE,this.gl.UNSIGNED_BYTE,this.ruleData),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this.gl.uniform1i(this.simUniforms.states.loc,this.states),this.gl.uniform1i(this.simUniforms.subindices.loc,this.nSubIndices)}},{key:"states",get:function(){return this._states},set:function(t){t!=this._states&&(t>=2&&t<14?(this._states=t,this.pen.state>=this._states&&(this.pen.state=this._states-1),this.nSubIndices=V(this._states),this.regenRuleTex()):t=this._states)}},{key:"setRule",value:function(t){t&&this.nStateMap.has(t.length)?(this.states=this.nStateMap.get(t.length)||2,this.ruleData.set(t),this.regenRuleTex()):console.error("invalid rule:",t)}},{key:"webGlSetup",value:function(t){var e=new Float32Array([-1,1,1,1,1,-1,-1,1,1,-1,-1,-1]),i=this.gl.createBuffer();this.gl.bindBuffer(this.gl.ARRAY_BUFFER,i),this.gl.bufferData(this.gl.ARRAY_BUFFER,e,this.gl.STATIC_DRAW),this.simProgram=this.buildShaderProgram([{type:this.gl.FRAGMENT_SHADER,name:"simulate",code:t["simulate"]},{type:this.gl.VERTEX_SHADER,name:"vertex",code:t["vertex"]}]),this.gl.useProgram(this.simProgram),this.buildBinomial(),this.simUniforms={size:{loc:this.gl.getUniformLocation(this.simProgram,"uSize")},sampler:{loc:this.gl.getUniformLocation(this.simProgram,"uSampler")},binomial:{loc:this.gl.getUniformLocation(this.simProgram,"uBinomial")},rule:{loc:this.gl.getUniformLocation(this.simProgram,"uRule")},states:{loc:this.gl.getUniformLocation(this.simProgram,"uStates")},subindices:{loc:this.gl.getUniformLocation(this.simProgram,"uSubIndices")}};var s=this.gl.getAttribLocation(this.simProgram,"aVertexPosition");this.gl.activeTexture(this.gl.TEXTURE0),this.gl.vertexAttribPointer(s,2,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(s),this.setRule([0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0]),this.gl.uniform1i(this.simUniforms.sampler.loc,0),this.gl.uniform1i(this.simUniforms.rule.loc,1),this.gl.uniform1i(this.simUniforms.binomial.loc,2),this.colorProgram=this.buildShaderProgram([{type:this.gl.FRAGMENT_SHADER,name:"colormap",code:t["colormap"]},{type:this.gl.VERTEX_SHADER,name:"vertex",code:t["vertex"]}]),this.gl.useProgram(this.colorProgram),this.colorMapTex=this.gl.createTexture(),this.gl.bindTexture(this.gl.TEXTURE_2D,this.colorMapTex),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGB,14,1,0,this.gl.RGB,this.gl.UNSIGNED_BYTE,this.colorMap),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.colorUniforms={sampler:{loc:this.gl.getUniformLocation(this.colorProgram,"uSampler")},colormap:{loc:this.gl.getUniformLocation(this.colorProgram,"uColorMap")},cam:{loc:this.gl.getUniformLocation(this.colorProgram,"uCam")},screen:{loc:this.gl.getUniformLocation(this.colorProgram,"uScreen")},simSize:{loc:this.gl.getUniformLocation(this.colorProgram,"uSimSize")},mouse:{loc:this.gl.getUniformLocation(this.colorProgram,"uMouse"),val:[0,0,-1,50]}},s=this.gl.getAttribLocation(this.colorProgram,"aVertexPosition"),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.vertexAttribPointer(s,2,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(s),this.gl.uniform1i(this.colorUniforms.sampler.loc,0),this.gl.uniform1i(this.colorUniforms.colormap.loc,1),this.gl.uniform2fv(this.colorUniforms.screen.loc,[this.canvas.width,this.canvas.height]),this.drawProgram=this.buildShaderProgram([{type:this.gl.FRAGMENT_SHADER,name:"drawing",code:t["drawing"]},{type:this.gl.VERTEX_SHADER,name:"vertex",code:t["vertex"]}]),this.gl.useProgram(this.drawProgram),this.drawUniforms={size:{loc:this.gl.getUniformLocation(this.drawProgram,"uSize")},sampler:{loc:this.gl.getUniformLocation(this.drawProgram,"uSampler")},mouse:{loc:this.gl.getUniformLocation(this.drawProgram,"uMouse"),val:[0,0,-1,50]}},s=this.gl.getAttribLocation(this.drawProgram,"aVertexPosition"),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.vertexAttribPointer(s,2,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(s),this.gl.uniform1i(this.drawUniforms.sampler.loc,0)}},{key:"resize",value:function(){this.gl.useProgram(this.colorProgram),this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.gl.uniform2fv(this.colorUniforms.screen.loc,[this.canvas.width,this.canvas.height])}}]),t}(),at=Object(s["s"])("data-v-325f0897");Object(s["j"])("data-v-325f0897");var nt={class:"material-icons"};Object(s["h"])();var rt=at((function(t,e,i,a,n,r){return Object(s["g"])(),Object(s["d"])("button",{class:"options-button",style:{"background-color":t.shown?"#555555":""},onClick:e[2]||(e[2]=function(e){return t.onClick()})},[Object(s["f"])("span",nt,Object(s["n"])(t.icon_name),1),Object(s["f"])(s["b"],{name:"fade"},{default:at((function(){return[t.shown?(Object(s["g"])(),Object(s["d"])("div",{key:0,onClick:e[1]||(e[1]=Object(s["r"])((function(){}),["stop"])),class:"rounded dropdown"},[Object(s["f"])("h1",null,Object(s["n"])(t.dropdown_title),1),Object(s["l"])(t.$slots,"default")])):Object(s["e"])("",!0)]})),_:1})],4)})),ot=function(t){Object(o["a"])(i,t);var e=Object(l["a"])(i);function i(){return Object(r["a"])(this,i),e.apply(this,arguments)}return i}(h["b"]);ot=Object(c["a"])([Object(h["a"])({props:["icon_name","dropdown_title","vd"],emits:["hide-all"],data:function(){return{shown:!1,clicked:!1}},watch:{vd:function(){this.shown=this.clicked,this.clicked=!1}},mounted:function(){var t,e=this;null===(t=document.getElementById("glCanvas"))||void 0===t||t.addEventListener("mousedown",(function(){e.shown=!1}))},methods:{onClick:function(){this.$emit("hide-all"),this.shown||(this.clicked=!0)}}})],ot);var lt=ot;lt.render=rt,lt.__scopeId="data-v-325f0897";var ct,ht=lt,ut={colormap:i("6baf").default,drawing:i("9672").default,simulate:i("b4b0").default,vertex:i("b8b8").default},mt=i("4c11").default,ft={},gt=Object(L["a"])(mt.split("\n"));try{for(gt.s();!(ct=gt.n()).done;){var dt=ct.value,At=dt.split(":: ");ft[At[0].trim()]=At[1]}}catch(Qt){gt.e(Qt)}finally{gt.f()}var pt=function(t){Object(o["a"])(i,t);var e=Object(l["a"])(i);function i(){return Object(r["a"])(this,i),e.apply(this,arguments)}return i}(h["b"]);pt=Object(c["a"])([Object(h["a"])({components:{dropdown:ht},props:{},emits:["hide-menu"],data:function(){return{simulator:null,frameRate:"",presetsShow:!1,hideall:!0}},watch:{"simulator.fps":function(){this.frameRate="".concat(this.simulator.frames," frames/sec per ").concat(this.simulator.steps," steps/sec"),this.simulator.frames=0,this.simulator.steps=0}},methods:{blah:function(){console.debug("blah")},fillRandom:function(){it(this.simulator.states),this.simulator.resetSim()}},mounted:function(){this.$refs["glCanvas"].addEventListener("contextmenu",(function(t){return t.preventDefault()})),this.simulator=new st(this.$refs["glCanvas"],ft,ut),this.simulator.resize(),window.addEventListener("resize",this.simulator.resize.bind(this.simulator)),window.addEventListener("mousemove",this.simulator.mouseHandler.bind(this.simulator)),this.$refs["glCanvas"].addEventListener("mousedown",this.simulator.clickOn.bind(this.simulator)),this.$refs["glCanvas"].addEventListener("mouseup",this.simulator.clickOff.bind(this.simulator)),this.$refs["glCanvas"].addEventListener("wheel",this.simulator.onScrollWheel.bind(this.simulator)),window.addEventListener("keydown",this.simulator.onKey.bind(this.simulator)),window.addEventListener("keyup",this.simulator.onKeyUp.bind(this.simulator)),this.simulator.animateScene()}})],pt);var bt=pt;i("9f50");bt.render=X,bt.__scopeId="data-v-598d24bd";var vt=bt,Tt=function(t){Object(o["a"])(i,t);var e=Object(l["a"])(i);function i(){return Object(r["a"])(this,i),e.apply(this,arguments)}return i}(h["b"]);Tt=Object(c["a"])([Object(h["a"])({components:{Automata:vt,Dropdown:ht},data:function(){return{}},methods:{}})],Tt);var Et=Tt;i("1b7a");Et.render=n;var $t=Et;i("a766");Object(s["c"])($t).mount("#app")}});
//# sourceMappingURL=app.c3192581.js.map