{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/rules.txt","webpack:///./src/shaders/colormap.glsl","webpack:///./src/shaders/drawing.glsl","webpack:///./src/App.vue?86f1","webpack:///./src/shaders/simulate.glsl","webpack:///./src/shaders/vertex.glsl","webpack:///./src/components/Automata.vue?7264","webpack:///./src/App.vue","webpack:///./src/components/Automata.vue","webpack:///./src/sim.ts","webpack:///./src/components/Dropdown.vue","webpack:///./src/components/Dropdown.vue?dab4","webpack:///./src/components/Dropdown.vue?8baa","webpack:///./src/components/MenuButton.vue","webpack:///./src/components/MenuButton.vue?ff9e","webpack:///./src/components/MenuButton.vue?b6c4","webpack:///./src/components/Automata.vue?c704","webpack:///./src/components/Automata.vue?6430","webpack:///./src/App.vue?3acc","webpack:///./src/App.vue?dfb6","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","href","rel","id","ref","class","cols","rows","icon_name","dropdown_title","hideall","vd","type","min","max","simulator","pen","size","states","state","stepsPerFrame","Math","floor","log2","simSize","Number","$event","target","_simSize","presetsShow","preset","populatePresets","importDialogue","export","pause","step","newRule","fillRandom","clear","style","importRule","factorial","binomial","k","ruleSubIndices","fmod","a","b","ruleLength","minStates","pchars","pcharMap","charCodeAt","texDataBuffer","Uint8Array","randomizeDataBuffer","random","canvas","presets","shaders","simUniforms","ruleData","colorMap","nStateMap","Map","_states","nSubIndices","this","_preset","doStep","flip","steps","frames","lastFPSSample","Date","now","fps","cam","x","y","zoom","zoomLevel","zoomLevels","panstartcam","panstartmouse","panning","move","mouse","gl","getContext","width","innerWidth","height","innerHeight","set","webGlSetup","resetSim","document","getElementById","clipboardNode","createElement","body","appendChild","val","fbA","fbB","texSetup","menuItems","item","innerHTML","className","addEventListener","entries","pos","e","updateMousepos","pageX","pageY","drawUniforms","useProgram","drawProgram","uniform4fv","loc","colorProgram","colorUniforms","button","cursor","deltaY","spX","spY","wpX","wpY","rule","zeroChance","pow","setRule","randomRule","console","info","values","Uint16Array","v","buffer","compbytes","compress","string","forEach","debug","map","_","decompress","error","z","regenRuleTex","prompt","fill","bindFramebuffer","FRAMEBUFFER","clearColor","COLOR_BUFFER_BIT","querySelector","select","focus","execCommand","exportRule","nMutate","ceil","germinate","mutate","isNaN","parseInt","texA","createTexture","bindTexture","TEXTURE_2D","texImage2D","R8","RED","UNSIGNED_BYTE","subarray","texParameteri","TEXTURE_WRAP_S","REPEAT","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","createFramebuffer","framebufferTexture2D","COLOR_ATTACHMENT0","texB","simProgram","uniform2fv","viewport","activeTexture","TEXTURE1","ruleTex","TEXTURE2","binomialTex","TEXTURE0","drawArrays","TRIANGLES","uniform3fv","colorMapTex","requestAnimationFrame","animateScene","index","RGBA","CLAMP_TO_EDGE","code","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","VERTEX_SHADER","log","getShaderInfoLog","shaderInfo","program","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","LUMINANCE","uniform1i","subindices","has","vertexArray","Float32Array","vertexBuffer","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","buildShaderProgram","FRAGMENT_SHADER","buildBinomial","getUniformLocation","sampler","aVertexPosition","getAttribLocation","vertexAttribPointer","FLOAT","enableVertexAttribArray","RGB","colormap","screen","shown","onClick","props","emits","clicked","watch","mounted","methods","$emit","render","__scopeId","anim","default","presetsRaw","split","line","trim","components","frameRate","blah","success","$refs","preventDefault","resize","mouseHandler","clickOn","clickOff","onScrollWheel","onKey","onKeyUp","Automata","Dropdown","mount"],"mappings":"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","file":"js/app.87e2775a.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/webgl-cellular-automata/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export default \"game of life        :: %Cn9a´ģ+!!Ä!1!!!1\\\"!!!!!!!\\nworms               :: %Cn9a´ģ+!!Ä1!11\\\"!122!!!!!\\nhilbert             :: %Cn9a´ģ+!!Ä1!!!!2222!!!!!\\ntricircuit          :: %Cn9a´ģ+!!Ä2\\\"!!\\\"22\\\"1!!!!!\\nsierpinski1         :: %Cn9a´ģ+!!Ä1!!!!2122!!!!!\\ncomplex maze        :: %Cn9a´ģ+!!Ä!1!!!12\\\"\\\"!!!!!\\nglider city         :: %Cn9a´ģ]!!!ĵ\\\"!#!!\\\"!1!\\\"1!!!#\\\"10!1!\\\"!D\\\"A6!!B!1\\\"I!\\\"1!Ĵ%#!!1#!113!!2!!2!!A!!!!!\\ncomplex gliders     :: %Cn9a´ģQ\\\"!!ĵG!!$!\\\"A$!!!A!!C!#AQ\\\"A1Q!TQQ4$Q1$14##!1C!!!#T4#!A1!!1#!\\\"!!U!ĵ,!AA!!!QD\\\"!RAR11Q##2!!!1$QTv!ĤQ!Q!3A1!Q##!!QW!b31Q!a!ÄRR#!1T!T7!!U!A!3'!£R!1!11t!BA!£!QQ$CÝ!!ê!Q!\\\"QÄ!Ĵ+#1#$!!D\\\"$!1\\\"$Q##!\\\"\\\"3#!$$!8!Ķ#$$C2!QSR!!!\\\"$!!$R^!B\\\"!b!!M!!*!Ĵ&$1$#\\\"4!#!\\\"!$QA!\\\"#$$$¹!Ķ$!$!C!\\\"!Q$3A$!A#!QCð!´CT!A\\\"AQü!bQQ2BÝ!1$R\\\"Ĕ\\\"1!DA!C#QQ\\\"!C!!!!\\nmatrix              :: %Cn9a´ģW\\\"!!1!\\\"!Ĵ6D!\\\"\\\"!A!!T!RSA#!!4\\\"S!Q!!C!!!A!B$4A!\\\"QI!Ĵ>1\\\"!\\\"!\\\"$C!Q1$!!S1AS1!D!\\\"33!!\\\"!S!!!$!\\\"!!#D!\\\"Q4.!Ĵ$AQ1!!TS$!#!\\\"$!1\\\"!1J!b!1Q\\\"o!Ĵ%AAQA\\\"!!S!#3#$AQAQ$\\\"W!!º!Ĵ&QS!!C\\\"11!!#QRA!$$1!!b!ÄA$!!14!$ã!QQ!!j!ą#!!A#1D!\\\"#B19!rA!A!$¤!ABBĚ!´2$!#R4C|!!â!!ì!!z!A!1ñ!A!Ql!Ä!$T32!A$Y!a$Q!#ď!Ĵ$SQ!\\\"4\\\"1Q!Q$!!\\\"A1#3/\\\"Ä!!QQS!##^!!ä!ä2A$!!B!!\\\"#!!!!\\ncity lights         :: %Cn9a´ģ{%!!Ĵ+!!!!ac!1a1A$!$\\\"#T#!!!A\\\"!d:!Ĵ\\\"Q\\\"!!5!!!CQ1$\\\"b%Q5!Ĵ3#T!A!!ba!A11!DA$!#%#Q!Qa#!!$A!#$!b!ô!!%!QDA!!A%U!Q!!$V!Ĵ)!1QT!a%S!#B!!!1!!211#!!x!1\\\"H!Ĥa!Q$AaA!%A!11a4!Ĵ&a\\\"!\\\"!QU!$!!Q1%!2\\\"!a!¤!Ĥ\\\"#B!\\\"A!aQ!!Q5%c!Ĕa!#aa4d!T\\\"\\\"!bn!£###QAS+!Ôe\\\"#!a!aA2Ð!1#s!Ĵ'1#Q!Aa5!!a!AdA1!$$%!QË!!Ó!Q$Q1r!Ĵ&R!1%!!b\\\"!Q1A!\\\"a!!$QdÂ!A!$ķ!Ķ!C\\\"!%!!1Q%!!5\\\"\\\"Qĸ!Ä1\\\"#!%\\\"Qe¹!\\\"%!£AQ!A!DŁ!Ĵ\\\"D!#\\\"S!a!BR!S!#!#ł!Q!C1G!qTQ\\\"1aę!Ĵ.%!2A#!a#1A!a!\\\"!!$\\\"U%$1!!%$14J!1AP!Aa!ú!qS!d$37\\\"Ä!!%%!1QSö!B$!U\\\"a!Q!UP!R!!3(!AQ!L\\\"Õ%a1!!1#T!a\\\"Äa%$!TU!RB!A\\\"A®\\\"ĵ($$$A!!11#A1QRA!\\\"#EA#!#¼!ô!%!B1Q!#%B#ĕ\\\"AS%ä!Ć2!A$##A!!U%QÜ\\\"ô\\\"1\\\"#Q##1%%S¢!!ĵ\\\"rE!!1aÓ\\\"1C®!!¿!Q1\\\"1(!!0!q$!!%RQ#ä%!!%24\\\"#\\\"UV!ĄU$5!E%A#S!!Aě!q\\\"41#CU!QASQ(!A#\\\"ô!\\\"-\\\"AAA2!q%5!5#Ŀ!A$\\\"í\\\"Ô$$!!!A#!1Ĕ!1\\\"}!Aa%?!1E¸!\\\"%!b##A\\\"È#1SÁ#!P!\\\"8!a!!\\\"Sñ!q%!!Qb«\\\"!Å!q!R1\\\"#Ĝ\\\"A$$¯\\\"Ô!!Ce!1!AQŁ\\\"!ĺ\\\"a$A!Qĩ#1Qć\\\"!K#aeA#AO#a!a1!6$ĥQE\\\"2!1B!!Q$$1!É!£1!\\\"#2#b#!Ö#ÔQ!%1a1Q!3>!´C#\\\"Ua!!G\\\"1#đ!A#%º$110#µ#!$e\\\"!#,!aA\\\"1a¡$q!Aa1aÚ#1#ŀ\\\"£%!!#R\\\"Í!a!B!%Ð$´Q!C!1\\\"A2$´#b!5%!\\\"½#aa##c|\\\"¤\\\"!T\\\"%e4!Ä5Qa!A\\\"1$&$1!Ø\\\"1\\\"8\\\"ÄQ!adA$$1ı#!;!Q\\\"$$ĩ$1TÁ\\\"A!a×$Ĵ$\\\"\\\"Q$d1AQQ1cb1!R!e1Y!1!ö#ĵ#cU5T!a!%$#!Ab%#!$7\\\"1!Į#1$Ê!!Ķ!Ĵ7AQdQD!!Qa!!aE!aA!A\\\"AQaC#dQ#!%S#1!BQa%N!#û#1$Ł!\\\"ã%B!!Ā\\\"!ü\\\"Ĵ&%Q\\\"\\\"#53$!%d%5d!S!a#\\\"!!!!\\ncircuit city        :: %Cn9a´ģ©%!!a!QQ!\\\"!a31aS)!Ĵ8#a!!%Q#%!!\\\"!AD\\\"Q!!1#!a!UR#!Aa%!!#\\\"!5$UK!ĕ!!E!a\\\"Aa%b%%Q=!q\\\"!a!A<!ĵN$%!!!TD%QQ!QS\\\"!$!\\\"!\\\"!1a#1$a$!!aT!!!caQ!\\\"!!!$!1S\\\"%#!b1!!ab%!ad!ca$UAÜ!1A·!!p!Å!\\\"!$2!11¥!ôQ!!Ua$a1#$\\\"Ą!A#!ó!b!bBAü!Ĵ%!!A1A%Aa!#b#!!Qa!2!n!¤#Aa!!1y!Ĵ)1%\\\"QD#\\\"a$#\\\"!a1A!!!DA!\\\"CÀ!Ĵ/cU\\\"!S$R!!\\\"QA!!%!A!$!!!A\\\"\\\"Q$R1h!AR!Ç!ôe#!1!a\\\"!#!$ø!aR!1!î!!ė!ä!a!Q!A1$$!)\\\"Ĵ51$Q!#!BA!4!!$aA%\\\"\\\"a\\\"4#e#!U!$\\\"!%Q!#cP!Ĵ\\\"!3Q%!$Aa$!cB!T!S¾\\\"ĄQ!$%AA!D!aA4É!å!!#%!\\\"ad$3/!qS%1!\\\"I!aa!\\\"!D\\\"1Ač!£!$A#!3¶\\\"Q%13Ñ\\\"Q5!%Ń!Ä%!#e!1$a4!Ĵ\\\"1!d!Qa$%!\\\"cA1\\\"!!6!acQ3!ĕ!Q%1!Đ!QC!!ë\\\"1Ut!c1%#QF!£!5R%%!³\\\"1QY!q!!U1\\\"O!ĔA!#!\\\"%!\\\"AA41\\\"á!B1eG!#]\\\"!·!!?\\\"£A2!$!1}\\\"A4!ľ\\\"!}#!ü!1!~!!a\\\"Ä4!URQ!\\\"dR!£1%A!!QJ!å!!ea#!\\\"Aa1Ī\\\"\\\">!Ķ$!A!AbA\\\"!EAR!!aa\\\"\\\"Tû!ö!A$1!!S!QDA2!22ġ!´!1Qa!C\\\"Ġ!A$Sè\\\"Q\\\"2!B!£%$1%QA|#14ę!´!U!A!S!q\\\"r2!!!5æ#Ĵ9e\\\"C\\\"C!#Q!%!U#\\\"!dd!%!T!b%!\\\"b#!A$!$BT$#!#1#R!Q\\\"T!1#«#´eDc$$!#Þ\\\"\\\"Q$RQ%$¹!Q$!$s$qQ51#%>!Q!!AÀ!!_\\\"1\\\"í\\\"Ĵ&AB$!$d!U3%#$Q!\\\"#2RQa¼#b!A\\\"A¿#q\\\"2!\\\"Q{\\\"qDAa%%Å#´BdR%!Acã#1\\\"E\\\"1\\\"K\\\"Ĵ*B!%5!!B!Aa\\\"b%aA!!1\\\"$AaB$é$!$\\\"Ą2%!%\\\"Ac2a#TEĺ$ĤQ1\\\"%\\\"!#B!%SQ!!Ė!1$<#ĔQ!!%#$#aT#!d#é\\\"´$#\\\"3!##ą\\\"´Q%!c!!B¦$!/$Ô!1#QQ!Be4Q$ĵ!%!###%!RSR!!!41þ!Ĥa#!bCa!#a!dD#CĻ\\\"Ĵ!Q#B#A$#!!\\\"Q#!!cĚ!1Q{!Q1Q1µ\\\"ä#1Q12S!#aCµ!ôa!!D$!!4!E!ß!Ĵ-1\\\"#!!E\\\"1!#%aaA!c!T!a\\\"!!#TE$!!!!\\nchaosbox            :: %Cn9a´ģ¥%!!Ĵ)!!!Q!3#bC!$!!A1!#!S#AA!/!ĵ)RAd!!1!T!c!B!!DQ%A\\\"!%!!%!Ĵ$!!QADQ#!1T1Q!!AQ!#%!Ô5\\\"!Qa$%#Av!Ĵ!\\\"!!!!Aa1!!$#!#bX!ĔS#aAQ1!S!!%a$@!£\\\"!51Q#+!ĄA%!QQ#A\\\"A$$$Î!\\\"¬!Ĕa!c#A!A\\\"1!!1TÐ!1aL!\\\"&!Ĵ8!\\\"$C!a!#1!!Q5A!$%C!A\\\"!!5Q!\\\"!!a!!$\\\"!#!bP!ħ#Q!\\\"%B1T3!B!\\\"\\\"9!´D!A#!!3u!Q#!AH!R!!#Z!´!!!$%\\\"!`!£!!U!AE2!\\\"w!ôAa!Aa!\\\"Q!5AN!R$!cZ!RA%!¸!Å1A#!$a!Qs\\\"q!!!CA,!ÖD1S!!!UU5§!õ!T%$\\\"S!#A\\\"aj\\\"Ôa$51R!Q2$ħ!ĵ,!D1!\\\"!A%%QA%%3\\\"!!\\\"#Q$\\\"e2TQr\\\"õ!!!#\\\"!aQd#1½!Ė1#!A%$!a!\\\"c!B½!Ĵ\\\"AQ5$!#!\\\"#$S!!c!5ċ\\\"!Ĝ!ĵ\\\"!\\\"%A!%1$$1!1!$4#5!bU4!!|\\\"B3!ľ!aa!2!Ē\\\"ôQ\\\"$R1!!\\\"A%%ß\\\"ĵ(\\\"!!11!Q%!4!1A!%!\\\"cD#!%É\\\"qR$$3\\\"ģ\\\"£!CA$%1Ă!Ĵ9\\\"a!$B!!!E!1%!%Q!Q!Aa%#a\\\"5B##$Q1$C!!##Q%¤#Ĵ*aAa\\\"1!#\\\"A!#!#Q!U#%A!!4a!ą!q!!51!Õ#Ab%à!aa!4!ø!Ĵ+\\\"3$4A!Q2!A\\\"\\\"!%S$!%RA!a!aD>!!³\\\"r$U$!Q¾#\\\"´\\\"å1!$c3$Q\\\"!1Ğ!£##!Q!2ě\\\"Q1!$Ö\\\"1%Ĭ!!Ð!ĵ\\\"!Qb!aEA\\\"Aa!aAS1Tģ!´e!bQ!%#î#!Ó##¹\\\"ä1A!Q1!ab!RÁ#qQA!Q%B!1Rē\\\"aQ1!!Ï!ä%#\\\"!\\\"$!Sd#*$1#g\\\"A!%é#q#$RB\\\"|#Ĵ#QE2!$aQ!C!SAd\\\"a%5N#ĄB!A!aA!ca\\\"A!Ù#Ĵ!\\\"\\\"1!1aaA#!!%2Q$ÿ\\\"õAa##SS%!!QRĥ!a!!T!?#2B§!Ä\\\"A#R#!a2R!1cN#Ĵ\\\"!EQ51E\\\"Q!AEU#$b!T#1\\\"Ĺ!3aF\\\"bC$!$ě!ÄUeaA!%eAă#ôQCU!!%\\\"QU#!+%!¦$´!!Qe!4a$%AQC=\\\"a1\\\"#%ğ$aQQ!1Ĥ!a%Q#!õ\\\"a%!bTu#Ĥ\\\"DE!AA3!!S!Q#\\\"s%AEaä\\\"Ĥa!%Q%1a$!3!1b$Õ$!/\\\"!ĺ!Ä1a!!e#Q\\\"ă\\\"q%%!SSĶ$q%%\\\"\\\"!f#1!Ģ$£\\\"1$!%cļ!1$À!r!S#!!m#Ĵ#41\\\"c#a$1!\\\"A!$!$!!!!!!\\nmetastable          :: %Cn9a´ģY\\\"!!ĵ9!!A!RA\\\"A!!!#!\\\"!#!C1B!A!!$!!11!!1!!!D!!Q$!£#$!T!34!!6!£#A!R!Q#!£#!C!!CM!Ĵ.11ADQQA\\\"!1!S1R\\\"!32#A!1QQ!!!\\\"Y!Ô$!#!!Q#R#}!ĔAQ!AT!!\\\"4!R41¶!1A¹!aT1#17!q\\\"!!Q2Î!B\\\"CÁ!!Ö!Ĥ!!\\\"$A!#$3!##!CO!ĴAS!\\\"!TQ#!!\\\"!!!R##T!QTQ!\\\"!QQ!1#T!!4BAR\\\"\\\"Q!AC!!1TQI!Ĥ#A\\\"\\\"$\\\"#1!!Q1!!S!´A#!$!\\\"1&\\\"a1\\\"Q\\\"ĺ!a3$A!2\\\"£$!!$\\\"4!\\\"Ĕ!#!1!A$$C!\\\"QBÄ!Ĵ\\\"!\\\"#S$\\\"\\\"!2!!T!TQ1!!!!\\nchaotic growth      :: %Cn9a´ģc!!!Ķ(#!!#!!!A!#!A#A1A\\\"A##\\\"\\\"1!1!:!Ĥ\\\"\\\"!C!1C13!#\\\"AAG!Ĵ#!!AC#2\\\"A1B1#C!!A!!!!!\";","export default \"/** Fragment shader that maps cellular automata states to nice colors and handles camera */\\n\\nprecision mediump float;\\n\\nvarying vec2 vTextureCoord;     // Texture coordinates 0.0 to 1.0\\nuniform sampler2D uSampler;     // Simulation texture\\nuniform sampler2D uColorMap;    // Colors to be used for states\\nuniform vec3 uCam;              // Camera: x, y (pixels), zoom\\nuniform vec2 uScreen;           // Screen size in pixels\\nuniform vec2 uSimSize;          // Size of the simulation texture\\nuniform vec4 uMouse;            // Position of mouse on screen, plus left / right button states\\n\\nvec4 colorFromState(float state) {\\n    return texture2D(uColorMap, vec2((state + 0.5) / 14.0, 0.5));\\n}\\n\\nvoid main(void) {\\n    // Grab coordinate into simulation texture\\n    vec2 coord = uCam.xy + (vTextureCoord * (uScreen / uCam.z));\\n    // Get automaton state\\n    float state = floor(texture2D(uSampler, coord / uSimSize).r * 255.0 + 0.5);\\n    // Reference colormap tex to draw color to screen\\n    gl_FragColor = colorFromState(state);\\n\\n    // Calculate toroidal distance to mouse\\n    vec2 offset = mod(uCam.xy, vec2(1.0));\\n    float pMouseDist = distance(\\n        ceil((vTextureCoord * uScreen) / uCam.z + offset),\\n        ceil((uMouse.xy) / uCam.z + offset)\\n    );\\n\\n    // Mouse click adds cells\\n    if (floor(pMouseDist + 1.0) == ceil(uMouse.w)) {\\n        gl_FragColor = colorFromState(uMouse.z);\\n    }\\n}\";","export default \"/** Fragment shader for drawing on the simulation texture */\\n\\nprecision mediump float;\\n\\nvarying vec2 vTextureCoord;     // Texture coordinates 0.0 to 1.0\\nuniform sampler2D uSampler;     // Input states texture\\nuniform vec2 uSize;             // Size of simulation canvas in pixels\\nuniform vec4 uMouse;            // Position of mouse, plus left / right button states\\n\\n// Convert floating point num to byte\\nint fbyte(float n) {\\n    return int(floor(n * 255.0));\\n}\\n\\n// Get state of cell at texture position\\nint get(vec2 pos) {\\n    return fbyte(texture2D(uSampler, pos).r);\\n}\\n\\nvoid main(void) {\\n    int state = get(vTextureCoord);\\n\\n    // Calculate toroidal distance to mouse\\n    vec2 pixPos = floor(vTextureCoord * uSize);\\n    float pMouseDist = uMouse.w * 2.0;\\n    for (int x = -1; x <= 1; x += 1) {\\n        for (int y = -1; y <= 1; y += 1) {\\n            pMouseDist = min(pMouseDist, distance(pixPos, (uMouse.xy - vec2(x, y)) * uSize));\\n        }\\n    }\\n\\n    // Mouse click adds cells\\n    if (floor(pMouseDist) < uMouse.w) {\\n        if (uMouse.z > -1.0) {\\n            state = int(uMouse.z);\\n        }\\n    }\\n\\n    // Output new state\\n    gl_FragColor = vec4(vec3(float(state) / 255.0), 1.0);\\n}\";","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=30e1380e&lang=css\"","export default \"/** Fragment shader that simulates multistate totalistic cellular automata */\\n\\nprecision mediump float;\\n\\nvarying vec2 vTextureCoord;     // Texture coordinates 0.0 to 1.0\\nuniform sampler2D uSampler;     // Input states texture\\nuniform sampler2D uRule;        // The cellular automata rule\\nuniform sampler2D uBinomial;    // Pre-computed binomial coefficents (n and k up to 32)\\nuniform vec2 uSize;             // Size of simulation canvas in pixels\\nuniform int uStates;            // Number of states in this rule (MAX 14)\\nuniform int uSubIndices;        // Number pf subrule indices\\n\\n// Convert floating point num to byte\\nint fbyte(float n) {\\n    return int(floor(n * 255.0));\\n}\\n\\n// Returns binomial coefficient (n choose k) from precompute texture\\nint binomial(int n, int k) {\\n    ivec4 val = ivec4(floor(texture2D(uBinomial, vec2(\\n        (float(n) + 0.5) / 32.0,\\n        (float(k) + 0.5) / 32.0\\n    )) * 255.0 + 0.5));\\n    return val.a * 16777216 + val.b * 65536 + val.g * 256 + val.r;\\n}\\n\\n// Get state of cell at texture position\\nint get(vec2 pos) {\\n    return fbyte(texture2D(uSampler, pos).r);\\n}\\n\\nvoid main(void) {\\n    int curstate = get(vTextureCoord);\\n\\n    // Counts of each neighbor type\\n    int nCounts[14];\\n    for (int i = 0; i < 14; i++) {\\n        if (i == curstate) {\\n            nCounts[i] = -1;\\n        } else {\\n            nCounts[i] = 0;\\n        }\\n    }\\n    // Size of a pixel in texture coordinates\\n    vec2 pSize = 1.0 / uSize;\\n\\n    // Determine neighbor counts\\n    for (int x = -1; x <= 1; x += 1) {\\n        for (int y = -1; y <= 1; y += 1) {\\n            int v = get(vTextureCoord + pSize * vec2(x, y));\\n            for (int i = 0; i < 14; i++) {\\n                if (i == v) {\\n                    nCounts[i] += 1;\\n                    break;\\n                }\\n            }\\n        }\\n    }\\n\\n    // Determine the 1D index into the rule texture\\n    int subIndex = 0;\\n    int x = uStates;\\n    int y = 8;\\n    for (int i = 0; i < 14; i++) {\\n        if (i < uStates && i > 0) {\\n            int v = nCounts[i];\\n            if (v > 0) {\\n                subIndex += binomial(y + x - 1, x - 1) - binomial(y - v + x - 1, x - 1);\\n            }\\n            x -= 1;\\n            y -= v;\\n        }\\n    }\\n    // Compute final rule index given current state and neighbor states\\n    int ruleIndex = curstate * uSubIndices + subIndex;\\n    // Convert 1D rule index into 2D coordinate into rule texture\\n    int newstate = int(floor(texture2D(uRule,\\n        vec2(\\n            (mod(float(ruleIndex), 1024.0) + 0.5) / 1024.0,\\n            (floor(float(ruleIndex) / 1024.0) + 0.5) / 1024.0\\n        )).r * 255.0 + 0.5));\\n\\n    // Output new state\\n    gl_FragColor = vec4(vec3(float(newstate) / 255.0), 1.0);\\n}\";","export default \"attribute vec2 aVertexPosition;\\nvarying vec2 vTextureCoord;\\n\\nvoid main() {\\n    gl_Position = vec4(aVertexPosition, 0.0, 1.0);\\n    vTextureCoord = aVertexPosition / 2.0 + vec2(0.5, 0.5);\\n    //vTextureCoord = 2.0 - vTextureCoord;\\n}\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Automata.vue?vue&type=style&index=0&id=796c36fa&scoped=true&lang=css\"","<template>\n  <link href=\"https://fonts.googleapis.com/icon?family=Material+Icons\" rel=\"stylesheet\">\n  <Automata/>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component';\nimport Automata from './components/Automata.vue';\nimport Dropdown from './components/Dropdown.vue';\n\n@Options({\n  components: {\n    Automata,\n    Dropdown\n  },\n  data() {\n    return {\n    }\n  },\n  methods: {\n  }\n})\nexport default class App extends Vue {}\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin: 0px;\n  padding: 0px;\n  overflow: show;\n}\nbody {\n  margin: 0px;\n  padding: 0px;\n  overflow: hidden;\n}\n</style>\n","<template>\n  <canvas id=\"glCanvas\" ref=\"glCanvas\"></canvas>\n  <div ref=\"automataWindow\" class=\"automataWindow grid items-start justify-center\">\n    <div id=\"ui-container\" class=\"grid overflow-visible justify-center grid-flow-col-dense place-items-center p-2 gap-2\">\n      <dropdown icon_name=\"edit\" dropdown_title=\"Pen Settings\" @hide-all=\"hideall = !hideall\" :vd=\"hideall\">\n        <div class=\"dropdown-item value-slider\">\n          <span class=\"material-icons\">line_weight</span>\n          <input type=\"range\" min=\"1\" max=\"200\" v-model=\"simulator.pen.size\">\n          <span class=\"label\">{{ simulator.pen.size }}</span>\n        </div>\n        <div class=\"dropdown-item value-slider\">\n          <span class=\"material-icons\">palette</span>\n          <input type=\"range\" min=\"1\" :max=\"simulator.states - 1\" v-model=\"simulator.pen.state\">\n          <span class=\"label\">{{ simulator.pen.state }}</span>\n        </div>\n      </dropdown>\n\n      <dropdown icon_name=\"video_settings\" dropdown_title=\"Simulation Settings\" @hide-all=\"hideall = !hideall\" :vd=\"hideall\">\n        <div class=\"dropdown-item value-slider\">\n          <span class=\"material-icons\">speed</span>\n          <input type=\"range\" min=\"1\" max=\"16\" v-model=\"simulator.stepsPerFrame\">\n          <span class=\"label\">{{ simulator.stepsPerFrame }}</span>\n        </div>\n        <div class=\"dropdown-item value-slider\">\n          <span class=\"material-icons\">crop_free</span>\n          <input type=\"range\" min=\"8\" max=\"12\" :value=\"Math.floor(Math.log2(simulator.simSize))\"\n            @input=\"simulator.simSize = 2**Number($event.target.value)\">\n          <span class=\"label\">{{ simulator._simSize }}x</span>\n        </div>\n      </dropdown> \n\n      <dropdown icon_name=\"edit_note\" dropdown_title=\"Rule Settings\" @hide-all=\"presetsShow = false; hideall = !hideall\" :vd=\"hideall\">\n        <!-- Rule Preset -->\n        <div class=\"dropdown-item menu\">\n          <span class=\"material-icons\">toc</span>\n          <div class=\"text\">{{ simulator.preset }}</div>\n          <button class=\"menu-open\" @click=\"presetsShow = !presetsShow\" @click.once=\"simulator.populatePresets($event.target)\">\n            <span class=\"material-icons\">arrow_drop_down_circle</span>\n            <div class=\"menu-items\" id=\"presets-menu-items\" v-show=\"presetsShow\">\n            </div>\n          </button>\n        </div>\n        <!-- Number of States Slider -->\n        <div class=\"dropdown-item value-slider\">\n          <span class=\"material-icons\">style</span>\n          <input type=\"range\" name=\"nstates\" id=\"nstates-slider\" min=\"2\" max=\"14\" v-model.number=\"simulator.states\">\n          <span class=\"label\">{{ simulator.states }}</span>\n        </div>\n        <!-- Import Rule -->\n        <div class=\"dropdown-item button-group\">\n          <span class=\"material-icons\">file_download</span>\n          <menu-button @click=\"importDialogue=true\">import rule</menu-button>\n        </div>\n        <!-- Export Rule -->\n        <div class=\"dropdown-item button-group\">\n          <span class=\"material-icons\">file_upload</span>\n          <menu-button @click=\"simulator.export()\">export to clipboard</menu-button>\n        </div>\n      </dropdown>\n\n      <button @keydown.stop=\"\" class=\"options-button\" @click=\"simulator.pause = !simulator.pause\">\n        <span v-if=\"simulator ? simulator.pause : false\" class=\"material-icons\">play_arrow</span>\n        <span v-if=\"simulator ? !simulator.pause : true\" class=\"material-icons\">pause</span>\n      </button>\n\n      <button @keydown.stop=\"\" class=\"options-button\" @click=\"simulator.step()\">\n        <span class=\"material-icons\">skip_next</span>\n      </button>\n\n      <button @keydown.stop=\"\" class=\"options-button\" @click=\"simulator.newRule()\">\n        <span class=\"material-icons\">casino</span>\n      </button>\n\n      <button @keydown.stop=\"\" class=\"options-button\" @click=\"fillRandom()\">\n        <span class=\"material-icons\">format_color_fill</span>\n      </button>\n\n      <button @keydown.stop=\"\" class=\"options-button\" @click=\"simulator.clear()\">\n        <span class=\"material-icons\">clear</span>\n      </button>\n    </div>\n    <!-- <p id=\"rtinfo\" class=\"front absolute top-0 left-0 p-1 m-0 text-light bg-dark text-sm\">{{ frameRate }} </p> -->\n    <transition name=\"growtl\">\n      <div class=\"textbox\" v-if=\"importDialogue\">\n        <p>paste rule string:</p>\n        <span class=\"material-icons\" @click=\"importDialogue=false\">cancel</span>\n        <textarea ref=\"input-area\" cols=\"76\" rows=\"14\"></textarea>\n        <menu-button ref=\"import-button\" style=\"{ margin: 1rem; margin-left: auto; }\" @click=\"importRule()\">import</menu-button>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component';\nimport { Sim, randomizeDataBuffer } from '../sim'\nimport Dropdown from './Dropdown.vue';\nimport MenuButton from './MenuButton.vue';\n\nconst shaders = {\n  \"colormap\": require('../shaders/colormap.glsl').default,\n  \"drawing\": require('../shaders/drawing.glsl').default,\n  \"simulate\": require('../shaders/simulate.glsl').default,\n  \"vertex\": require('../shaders/vertex.glsl').default\n};\n\n// Process the presets stored inside rules.txt\nconst presetsRaw: string = require('../rules.txt').default;\nconst presets: Record<string, string> = {};\nfor (const line of presetsRaw.split(\"\\n\")) {\n  const split = line.split(\":: \");\n  presets[split[0].trim()] = split[1];\n}\n\n@Options({\n  components: {\n    \"dropdown\": Dropdown,\n    \"menu-button\": MenuButton\n  },\n  props: {\n  },\n  emits: [\n    \"hide-menu\"\n  ],\n  data() {\n    return {\n      simulator: null,\n      frameRate: \"\",\n      presetsShow: false,\n      hideall: true,\n      importDialogue: false\n    }\n  },\n  watch: {\n    'simulator.fps': function() {\n      this.frameRate = `${this.simulator.frames} frames/sec per ${this.simulator.steps} steps/sec`;\n      this.simulator.frames = 0;\n      this.simulator.steps = 0;\n    }\n  },\n  methods: {\n    blah() {\n      console.debug(\"blah\");\n    },\n    fillRandom() {\n      randomizeDataBuffer(this.simulator.states);\n      this.simulator.resetSim();\n    },\n    importRule() {\n      const success: boolean = this.simulator.importRule(this.$refs[\"input-area\"].value);\n      if (success) {\n        this.importDialogue = false;\n      } else {\n        this.$refs[\"import-button\"].anim = \"button-error\";\n      }\n    }\n  },\n  mounted() {\n    this.$refs[\"glCanvas\"].addEventListener(\"contextmenu\", (e: Event) => e.preventDefault());\n    this.simulator = new Sim(this.$refs[\"glCanvas\"] as HTMLCanvasElement, presets, shaders);\n    this.simulator.resize();\n    window.addEventListener(\"resize\", this.simulator.resize.bind(this.simulator));\n    window.addEventListener(\"mousemove\", this.simulator.mouseHandler.bind(this.simulator));\n    this.$refs[\"glCanvas\"].addEventListener(\"mousedown\", this.simulator.clickOn.bind(this.simulator));\n    this.$refs[\"glCanvas\"].addEventListener(\"mouseup\", this.simulator.clickOff.bind(this.simulator));\n    this.$refs[\"glCanvas\"].addEventListener(\"wheel\", this.simulator.onScrollWheel.bind(this.simulator));\n    window.addEventListener(\"keydown\", this.simulator.onKey.bind(this.simulator));\n    window.addEventListener(\"keyup\", this.simulator.onKeyUp.bind(this.simulator));\n    this.simulator.animateScene();\n  }\n})\nexport default class Automata extends Vue {}\n</script>\n\n<style scoped>\n\n  .automataWindow {\n    margin: 0px;\n    padding: 0px;\n    overflow: show;\n  }\n\n  #glCanvas {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    width: 100vw;\n    height: 100vh;\n    margin: 0;\n    padding: 0;\n    overflow: hidden;\n    image-rendering: optimizeSpeed;\n    /* TODO: maybe remove this? */\n    transform: scaleY(-1);\n    z-index: -2;\n  }\n\n  #info {\n    position: absolute;\n    left: 0px;\n    bottom: 0px;\n    background: black;\n    color: white;\n    font-family: Consolas, monospace;\n    padding: 4px;\n    font-size: 12px;\n  }\n\n  #viewer-window {\n    position: absolute;\n    bottom: 1px;\n    right: 1px;\n    width: 512px;\n    height: 512px;\n    overflow: hidden;\n    background: magenta;\n    border: white 1px solid;\n  }\n\n</style>\n","import lz4 from \"lz4js\";\n\nfunction factorial(m: number) {\n    let n = 1;\n    for (let i = 2; i <= m; i++) {\n        n *= i;\n    }\n    return n;\n}\n\nfunction binomial(n: number, k: number) {\n    return Math.floor(factorial(n) / (factorial(k) * factorial(n - k)));\n}\n\nfunction ruleSubIndices(states: number) {\n    return binomial(states + 8 - 1, states - 1);\n}\n\nfunction fmod(a: number, b: number) {\n    return a - b * Math.floor(a / b);\n}\n\nfunction ruleLength(states: number) {\n    return states * ruleSubIndices(states);\n}\n\n//Returns the number of states needed to represent the given rule length\nfunction minStates(length: number) {\n    //Infer the number of states this must have\n    for (let i = 3; i <= 14; i++) {\n        if (ruleLength(i) > length) {\n            return i - 1;\n        }\n    }\n}\n\nconst pchars = \"!\\\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~¡¢£¤¥¦§¨©ª«¬®¯°±²³´µ¶·¸¹º»¼½¾¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖ×ØÙÚÛÜÝÞßàáâãäåæçèéêëìíîïðñòóôõö÷øùúûüýþÿĀāĂăĄąĆćĈĉĊċČčĎďĐđĒēĔĕĖėĘęĚěĜĝĞğĠġĢģĤĥĦħĨĩĪīĬĭĮįİıĲĳĴĵĶķĸĹĺĻļĽľĿŀŁłŃńŅņŇňŉŊŋŌōŎŏŐőŒœŔŕŖŗŘřŚśŜŝŞşŠšŢţŤťŦŧŨũŪūŬŭŮůŰűŲųŴŵŶŷŸŹźŻżŽžſƀƁƂƃƄƅƆƇƈƉƊƋƌƍƎƏƐƑƒƓƔƕƖƗƘƙƚƛƜƝƞƟƠơƢƣƤƥƦƧƨƩƪƫƬƭƮƯưƱƲƳƴƵƶƷƸƹƺƻƼƽƾƿǀǁǂ\";\n// Map from pchar codes back to indices\nconst pcharMap: Record<string, number> = {};\nfor (let i = 0; i < pchars.length; i++) {\n    pcharMap[pchars.charCodeAt(i)] = i;\n}\n\n\nconst texDataBuffer = new Uint8Array(4096**2);\n\nexport function randomizeDataBuffer(m: number) {\n    for (let i = 0; i < texDataBuffer.length; i++) {\n        texDataBuffer[i] = Math.floor(Math.random() * m);\n    }\n}\n\nexport class Sim {\n    gl: WebGL2RenderingContext;                 // WebGL2 rendering context, passed into constructor\n    simProgram?: WebGLProgram;                  // WebGL program for simulating cellular automata\n    colorProgram?: WebGLProgram;                // WebGL program for drawing CA state in correct colors\n    drawProgram?: WebGLProgram;                 // WebGL program for drawing CA state in correct colors\n    simUniforms: Record<                        // Uniforms for simProgram\n        string,\n        {loc: WebGLUniformLocation}> = {};\n    colorUniforms: any;                         // Uniforms for colorProgram\n    drawUniforms: any;                          // Uniforms for colorProgram\n    _simSize = 1024;                             // Size of simulation texture in pixels\n    ruleData = new Uint8Array(1024**2);         // Raw bytes of rule data\n    ruleTex?: WebGLTexture;                     // WebGL texture containing rule data\n    colorMapTex?: WebGLTexture;                 // State to color map texture\n    binomialTex?: WebGLTexture;                 // State to binomial map texture\n    colorMap = new Uint8Array([                 // Mapping from state to color\n        // 1, 22, 39,\n        // 246, 247, 248,\n        // 255, 51, 102,\n        // 32, 164, 243,\n        // 42, 96, 65,\n        // 46, 196, 182,\n        // 243, 222, 138,\n        // 126, 127, 154,\n        // 254, 198, 1,\n        // 234, 115, 23,\n\n        /* 0  */ 20, 20, 20,\n        /* 1  */ 220, 220, 220,\n        /* 2  */ 220, 50, 50,\n        /* 3  */ 50, 220, 50,\n        /* 4  */ 50, 50, 220,\n        /* 5  */ 220, 220, 50,\n        /* 6  */ 50, 220, 220,\n        /* 7  */ 220, 50, 220,\n        /* 8  */ 220, 50, 175,\n        /* 9  */ 50, 220, 175,\n        /* 10 */ 175, 50, 220,\n        /* 11 */ 220, 220, 175,\n        /* 12 */ 175, 220, 50,\n        /* 13 */ 50, 175, 220\n    ]);\n    nStateMap: Map<number, number> = new Map(); // Mapping from rule length to number of states\n    _states = 2;                                // Number of cellular automata states\n    nSubIndices = ruleSubIndices(this._states); // Number of subindices in current rule\n    pen = {                                     // Pen properties\n        state: 1,\n        size: 50\n    };\n    _preset = \"game of life\";                   // Current rule preset selection\n    doStep = false;                             // Indicates that a simulation step should be performed\n    pause = false;                              // Simulation is paused\n    stepsPerFrame = 1;                          // Simulation steps per rendered frame\n    flip = false;                               // Indicates framebuffer flip\n    private fbA?: WebGLFramebuffer;                     // First framebuffer\n    private fbB?: WebGLFramebuffer;                     // Second framebuffer\n    private texA?: WebGLTexture;\n    private texB?: WebGLTexture;\n    steps = 0;                                  // Simulation steps so far\n    frames = 0;                                 // Rendered frames so far\n    lastFPSSample = Date.now();                 // Millisecond timestap of last FPS sample\n    fps = 0;                                    // Frames per second\n    cam = {\n        x: 0,\n        y: 0,\n        zoom: 1,\n        zoomLevel: 0,\n        zoomLevels: [1, 2, 3, 4, 6, 8, 12, 16],\n        panstartcam: {x:0, y:0},\n        panstartmouse: {x:0, y:0},\n        panning: false,\n        move: {x:0, y:0}\n    };\n    mouse = { x: 0, y: 0 };\n    \n    constructor(\n        private canvas: HTMLCanvasElement,\n        private presets: Record<string, string>,\n        shaders: Record<string, string>) {\n        this.gl = this.canvas.getContext(\"webgl2\")!;\n        this.canvas.width = window.innerWidth;\n        this.canvas.height = window.innerHeight;\n        for (let i = 2; i <= 14; i++) {\n            this.nStateMap.set(ruleLength(i), i);\n        }\n        this.webGlSetup(shaders);\n        randomizeDataBuffer(this._states);\n        this.resetSim();\n        //Create clipboard node\n        if (!document.getElementById(\"_clipboard\")) {\n            const clipboardNode = document.createElement(\"input\");\n            clipboardNode.id = \"_clipboard\";\n            clipboardNode.type = \"text\";\n            document.body.appendChild(clipboardNode);\n        }\n    }\n    get preset(): string {\n        return this._preset;\n    }\n    set preset(val: string) {\n        this._preset = val;\n        if (this.presets[val]) {\n            this.importRule(this.presets[val]);\n        }\n    }\n    get simSize(): number {\n        return this._simSize;\n    }\n    set simSize(val: number) {\n        this._simSize = val;\n        if (this.fbA && this.fbB) {\n            this.clear();\n            this.texSetup();\n        }\n    }\n    populatePresets() {\n        const menuItems = document.getElementById(\"presets-menu-items\");\n        for (const preset of Object.entries(this.presets)) {\n            const item = document.createElement(\"span\");\n            item.innerHTML = preset[0];\n            item.className = \"menu-item\";\n            item.addEventListener(\"click\", () => {\n                this.preset = preset[0];\n            });\n            menuItems?.appendChild(item);\n        }\n    }\n    screenToWorld(pos: number) {\n        return Math.floor(fmod((\n            this.cam.x + Math.floor(pos) / this.cam.zoom), this.simSize)) / this.simSize;\n    }\n    mouseHandler(e: MouseEvent) {\n        this.updateMousepos(Math.floor(e.pageX), Math.floor(e.pageY));\n    }\n    updateMousepos(x: number, y: number) {\n        this.mouse.x = x;\n        this.mouse.y = y;\n        this.drawUniforms.mouse.val[0] = (Math.floor(fmod((\n            this.cam.x + (x) / this.cam.zoom), this.simSize)) / this.simSize);\n        this.drawUniforms.mouse.val[1] = (Math.floor(fmod((\n            this.cam.y + (y) / this.cam.zoom), this.simSize)) / this.simSize);\n        if (this.cam.panning) {\n            this.cam.x = fmod(this.cam.panstartcam.x + (this.cam.panstartmouse.x - x)\n                / this.cam.zoom, this.simSize * 2);\n            this.cam.y = fmod(this.cam.panstartcam.y + (this.cam.panstartmouse.y - y)\n                / this.cam.zoom, this.simSize * 2);\n        }\n    \n        this.gl.useProgram(this.drawProgram!);\n        this.gl.uniform4fv(this.drawUniforms.mouse.loc, this.drawUniforms.mouse.val);\n    \n        this.gl.useProgram(this.colorProgram!);\n        this.colorUniforms.mouse.val[0] = (x);\n        this.colorUniforms.mouse.val[1] = (y);\n        this.colorUniforms.mouse.val[2] = this.pen.state;\n        this.colorUniforms.mouse.val[3] = this.drawUniforms.mouse.val[3];\n        this.gl.uniform4fv(this.colorUniforms.mouse.loc, this.colorUniforms.mouse.val);\n    }\n    clickOn(e: MouseEvent) {\n        switch (e.button) {\n            case 0: // Left click\n                this.drawUniforms.mouse.val[2] = this.pen.state;\n                break;\n            case 1: // Middle click\n                this.cam.panning = true;\n                this.cam.panstartmouse.x = this.mouse.x;\n                this.cam.panstartmouse.y = this.mouse.y;\n                this.cam.panstartcam.x = this.cam.x;\n                this.cam.panstartcam.y = this.cam.y;\n                this.canvas.style.cursor = \"move\";\n                break;\n            case 2: // Right click\n                this.drawUniforms.mouse.val[2] = 0;\n                break;\n        }\n    }\n    clickOff(e: MouseEvent) {\n        switch (e.button) {\n            case 0: // Left click\n            case 2: // Right click\n                this.drawUniforms.mouse.val[2] = -1;\n                break;\n            case 1: // Middle click\n                this.cam.panning = false;\n                this.canvas.style.cursor = \"\";\n                break;\n        }\n    }\n    onScrollWheel(e: WheelEvent) {\n        const z = this.cam.zoom;\n        this.cam.zoomLevel = Math.max(0,\n            Math.min(this.cam.zoomLevel + (e.deltaY < 0 ? 1 : -1), this.cam.zoomLevels.length - 1)\n        );\n        this.cam.zoom = this.cam.zoomLevels[this.cam.zoomLevel]\n\n        const spX = this.mouse.x;\n        const spY = this.mouse.y;\n        const wpX = this.drawUniforms.mouse.val[0] * this.simSize;\n        const wpY = this.drawUniforms.mouse.val[1] * this.simSize;\n        this.cam.x = wpX - Math.floor(spX / this.cam.zoom);\n        this.cam.y = wpY - Math.floor(spY / this.cam.zoom);\n        this.updateMousepos(spX, spY);\n    }\n    randomRule() {\n        const length = ruleLength(this.states);\n        const rule = new Uint8Array(length);\n        const zeroChance = Math.max(1 - (1 / Math.pow(this.states, 0.50)), 0.50);\n        for (let i = 0; i < length; i++) {\n            if (Math.random() < zeroChance) {\n                rule[i] = 0;\n            } else {\n                rule[i] = Math.floor(Math.random() * this.states);\n            }\n        }\n        return rule;\n    }\n    newRule() {\n        this.setRule(this.randomRule());\n        this._preset = \"...random\";\n    }\n    //Exports rule to unicode string\n    exportRule(rule: Uint8Array): string {\n        console.info(`exporting rule length ${rule.length}`);\n        //Treat each value in the rule as a 4-bit slice of a 16-bit number\n        const values = [];\n        for (let i = 0; i < rule.length; i += 4) {\n            let value = 0;\n            for (let j = 0; j < 4 && i + j < rule.length; j++) {\n                value |= rule[i + j] << (j * 4);\n            }\n            values.push(value);\n        }\n        const x = new Uint16Array(values);\n        const v = new Uint8Array(x.buffer);\n        const compbytes = new Uint16Array(lz4.compress(v));\n        let string = \"\";\n        compbytes.forEach((v) => string += pchars[v]);\n        \n        return string;\n    }\n    //Imports rule from unicode string directly into current rule buffer, setting rule to given\n    importRule(string: string) {\n        console.debug(string);\n        let compbytes = new Uint8Array(string.length);\n        compbytes = compbytes.map((_, i) => { return pcharMap[string.charCodeAt(i)]});\n        let x;\n        try {\n            x = lz4.decompress(compbytes);\n        }\n        catch {\n            console.error(\"invalid rule string\");\n            return false;\n        }\n        const values = new Uint16Array(x.buffer);\n        //Extract values from decompressed values\n        let z = 0;\n        for (let i = 0; i < values.length; i++) {\n            for (let j = 0; j < 4; j++) {\n                this.ruleData[z] = (values[i] >> (j * 4)) & 0xF;\n                z += 1;\n            }\n        }\n        //Infer the number of states this must have\n        this.states = minStates(z)!;\n        this.regenRuleTex();\n        return true;\n    }\n    customRule() {\n        const string = prompt(\"input some text:\");\n        if (string) {\n            const states = minStates(string.length);\n            const rule = new Uint8Array(ruleLength(this.states));\n            rule.fill(0);\n            for (let i = 0; i < string.length; i++) {\n                rule[i] = string.charCodeAt(i) % this.states;\n            }\n            this.setRule(rule);\n        }\n    }\n    clear() {\n        this.flip = false;\n        if (this.fbA && this.fbB) {\n            this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, this.fbA);\n            this.gl.clearColor(0, 0, 0, 1.0);\n            this.gl.clear(this.gl.COLOR_BUFFER_BIT);\n            this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, this.fbB);\n            this.gl.clearColor(0, 0, 0, 1.0);\n            this.gl.clear(this.gl.COLOR_BUFFER_BIT);\n        }\n    }\n    germinate() {\n        // Clear with a single spot in the center\n        this.clear();\n        const i = (this.simSize * (this.simSize / 2));\n        texDataBuffer[i] = this.pen.state;\n        this.texSetup();\n    }\n    resetSim() {\n        // Clear with a single spot in the center\n        this.clear();\n        this.texSetup();\n    }\n    import() {\n        document.querySelector<HTMLInputElement>(\"#_clipboard\")?.select();\n        document.querySelector<HTMLInputElement>(\"#_clipboard\")?.focus();\n        document.execCommand(\"insertText\");\n        document.execCommand(\"paste\");\n        this.importRule(document.querySelector<HTMLInputElement>(\"#_clipboard\")?.value!);\n        this._preset = \"...from clipboard\";\n    }\n    export() {\n        document.querySelector<HTMLInputElement>(\"#_clipboard\")!.value = this.exportRule(this.ruleData.slice(0, ruleLength(this.states)));\n        document.querySelector<HTMLInputElement>(\"#_clipboard\")?.select();\n        document.querySelector<HTMLInputElement>(\"#_clipboard\")?.focus();\n        document.execCommand(\"copy\");\n    }\n    step() {\n        this.pause = true;\n        this.doStep = true;\n    }\n    mutate() {\n        const length = ruleLength(this.states);\n        const nMutate = Math.ceil(length / 20);\n        for (let i = 0; i < nMutate; i++) {\n            const j = Math.floor(Math.random() * length);\n            this.ruleData[j] = Math.floor(Math.random() * this.states);\n        }\n        this.regenRuleTex();\n    }\n    onKey(e: KeyboardEvent) {\n        const key = e.key;\n        switch(key) {\n            case \" \":\n            case \"Space\":\n            case \"spacebar\":\n                this.pause = !this.pause;\n                break;\n            case \"s\":\n                this.step();\n                break;\n            case \"r\":\n                this.newRule();\n                break;\n            case \"g\":\n                this.germinate();\n                break;\n            case \"f\":\n                randomizeDataBuffer(this._states);\n                this.resetSim();\n                break;\n            case \"m\":\n                this.mutate();\n                break;\n            case \"c\":\n            case \"backspace\":\n            case \"delete\":\n                this.clear();\n                break;\n            case \"ArrowLeft\":\n                this.cam.move.x = -3;\n                break;\n            case \"ArrowRight\":\n                this.cam.move.x = 3;\n                break;\n            case \"ArrowUp\":\n                this.cam.move.y = -3;\n                break;\n            case \"ArrowDown\":\n                this.cam.move.y = 3;\n                break;\n            default:\n                if (!isNaN(parseInt(key))) {\n                    const n = parseInt(key);\n                    if (n >= 1 && n < this.states) {\n                        this.pen.state = n;\n                    }\n                }\n                break;\n        }\n    }\n    onKeyUp(e: KeyboardEvent) {\n        const key = e.key;\n        switch(key) {\n            case \"ArrowLeft\":\n            case \"ArrowRight\":\n                this.cam.move.x = 0;\n                break;\n            case \"ArrowUp\":\n            case \"ArrowDown\":\n                this.cam.move.y = 0;\n                break;\n        }\n    }\n    texSetup() {\n        //Texture A\n        this.texA = this.texA || this.gl.createTexture()!;\n        this.gl.bindTexture(this.gl.TEXTURE_2D, this.texA);\n        this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.R8, this.simSize, this.simSize,\n            0, this.gl.RED, this.gl.UNSIGNED_BYTE, texDataBuffer.subarray(0, this.simSize**2));\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.REPEAT);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.REPEAT);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.NEAREST);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.NEAREST);\n        //Framebuffer A\n        this.fbA = this.fbA || this.gl.createFramebuffer()!;\n        this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, this.fbA);\n        this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER, this.gl.COLOR_ATTACHMENT0, this.gl.TEXTURE_2D, this.texA, 0);\n        //Texture B\n        this.texB = this.texB || this.gl.createTexture()!;\n        this.gl.bindTexture(this.gl.TEXTURE_2D, this.texB);\n        this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.R8, this.simSize, this.simSize,\n            0, this.gl.RED, this.gl.UNSIGNED_BYTE, null);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.REPEAT);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.REPEAT);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.NEAREST);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.NEAREST);\n        //Framebuffer B\n        this.fbB = this.fbB || this.gl.createFramebuffer()!;\n        this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, this.fbB);\n        this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER, this.gl.COLOR_ATTACHMENT0, this.gl.TEXTURE_2D, this.texB, 0);\n    \n        //Pass new simulation size to shaders\n        this.gl.useProgram(this.simProgram!);\n        this.gl.uniform2fv(this.simUniforms.size.loc, [this.simSize, this.simSize]);\n        this.gl.useProgram(this.colorProgram!);\n        this.gl.uniform2fv(this.colorUniforms.simSize.loc, [this.simSize, this.simSize]);\n        this.gl.useProgram(this.drawProgram!);\n        this.gl.uniform2fv(this.drawUniforms.size.loc, [this.simSize, this.simSize]);\n    }\n    animateScene() {\n        this.gl.viewport(0, 0, this.simSize, this.simSize);\n    \n        /* Simulation */\n        if (!this.pause || this.doStep) {\n            this.gl.useProgram(this.simProgram!);\n            //Set simUniforms\n            this.gl.activeTexture(this.gl.TEXTURE1);\n            this.gl.bindTexture(this.gl.TEXTURE_2D, this.ruleTex!);\n            this.gl.activeTexture(this.gl.TEXTURE2);\n            this.gl.bindTexture(this.gl.TEXTURE_2D, this.binomialTex!);\n            //Simulate N steps\n            for (let i = 0; i < this.stepsPerFrame; i++) {\n                this.flip = !this.flip;\n                //Simulate and render to framebuffer\n                this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, (this.flip ? this.fbB : this.fbA)!);\n                this.gl.activeTexture(this.gl.TEXTURE0);\n                this.gl.bindTexture(this.gl.TEXTURE_2D, (this.flip ? this.texA : this.texB)!);\n                this.gl.drawArrays(this.gl.TRIANGLES, 0, 6);\n                this.steps += 1;\n                if (this.doStep) {\n                    this.doStep = false;\n                    break;\n                }\n            }\n        }\n    \n        /* Drawing */\n        this.flip = !this.flip;\n        this.gl.useProgram(this.drawProgram!);\n        this.drawUniforms.mouse.val[3] = this.pen.size;\n        this.gl.uniform4fv(this.drawUniforms.mouse.loc, this.drawUniforms.mouse.val);\n        this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, (this.flip ? this.fbB : this.fbA)!);\n        this.gl.activeTexture(this.gl.TEXTURE0);\n        this.gl.bindTexture(this.gl.TEXTURE_2D, (this.flip ? this.texA : this.texB)!);\n        this.gl.drawArrays(this.gl.TRIANGLES, 0, 6);\n    \n        /* Colormapping */\n        this.gl.viewport(0, 0, this.canvas.width, this.canvas.height);\n        this.gl.useProgram(this.colorProgram!);\n        //Colormap uniforms\n        this.cam.x += this.cam.move.x;\n        this.cam.y += this.cam.move.y;\n        this.gl.uniform3fv(this.colorUniforms.cam.loc, [this.cam.x, this.cam.y, this.cam.zoom]);\n        this.colorUniforms.mouse.val[2] = this.pen.state;\n        this.colorUniforms.mouse.val[3] = this.drawUniforms.mouse.val[3];\n        this.gl.uniform4fv(this.colorUniforms.mouse.loc, this.colorUniforms.mouse.val);\n        //Colormap and render to canvas\n        this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, null);\n        this.gl.activeTexture(this.gl.TEXTURE0);\n        this.gl.bindTexture(this.gl.TEXTURE_2D, (this.flip ? this.texB : this.texA)!);\n        this.gl.activeTexture(this.gl.TEXTURE1);\n        this.gl.bindTexture(this.gl.TEXTURE_2D, this.colorMapTex!);\n        this.gl.drawArrays(this.gl.TRIANGLES, 0, 6);\n    \n        //Next frame\n        this.frames += 1;\n        if (Date.now() - this.lastFPSSample >= 1000) {\n            this.fps = this.frames;\n            this.lastFPSSample = Date.now();\n        }\n        window.requestAnimationFrame(this.animateScene.bind(this));\n    }\n    buildBinomial() {\n        console.info(\"Building binomial coefficient tex...\");\n        const data = new Uint8Array(32 * 32 * 4);\n        data.fill(0);\n        for (let n = 0; n < 32; n++) {\n            for (let k = 0; k < 32; k++) {\n                const value = binomial(n, k);\n                const index = (k * 32 + n) * 4;\n                //Pack result into the four RGBA bytes\n                data[index + 0] = value & 0xFF;\n                data[index + 1] = (value >> 8) & 0xFF;\n                data[index + 2] = (value >> 16) & 0xFF;\n                data[index + 3] = (value >> 24) & 0xFF;\n            }\n        }\n        this.binomialTex = this.gl.createTexture()!;\n        this.gl.bindTexture(this.gl.TEXTURE_2D, this.binomialTex);\n        this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, 32, 32, 0, this.gl.RGBA, this.gl.UNSIGNED_BYTE, data);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.NEAREST);\n    }\n    compileShader(name: string, code: string, type: number): WebGLShader | null {\n        const shader: WebGLShader | null = this.gl.createShader(type);\n      \n        if (shader) {\n            this.gl.shaderSource(shader, code);\n            this.gl.compileShader(shader);\n            if (!this.gl.getShaderParameter(shader, this.gl.COMPILE_STATUS)) {\n                console.error(`Error compiling ${type === this.gl.VERTEX_SHADER ? \"vertex\" : \"fragment\"} shader \"${name}\":`);\n                console.log(this.gl.getShaderInfoLog(shader));\n            }\n        } else {\n            console.error(`shader ${name} not compiled`);\n        }\n      \n        return shader;\n    }\n    buildShaderProgram(shaderInfo: any) {\n        const program = this.gl.createProgram();\n\n        if (program) {\n            for (const info of shaderInfo) {\n                const shader = this.compileShader(info.name, info.code, info.type);\n        \n                if (shader) {\n                    this.gl.attachShader(program, shader);\n                }\n            }\n        \n            this.gl.linkProgram(program)\n            if (!this.gl.getProgramParameter(program, this.gl.LINK_STATUS)) {\n                console.error(\"Error linking shader program:\");\n                console.info(this.gl.getProgramInfoLog(program));\n            }\n        }\n    \n        return program;\n    }\n    regenRuleTex() {\n        //Rule texture\n        this.gl.useProgram(this.simProgram!);\n        this.ruleTex = this.ruleTex || this.gl.createTexture()!;\n        this.gl.bindTexture(this.gl.TEXTURE_2D, this.ruleTex);\n        this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.LUMINANCE, 1024, 1024, 0, this.gl.LUMINANCE, this.gl.UNSIGNED_BYTE, this.ruleData);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.NEAREST);\n        \n        this.gl.uniform1i(this.simUniforms.states.loc, this.states);\n        this.gl.uniform1i(this.simUniforms.subindices.loc, this.nSubIndices);\n    }\n    set states(states: number) {\n        if (states != this._states) {\n            if (states >= 2 && states < 14) {\n                this._states = states;\n                if (this.pen.state >= this._states) {\n                    this.pen.state = this._states - 1;\n                }\n                this.nSubIndices = ruleSubIndices(this._states);\n                this.regenRuleTex();\n            } else {\n                states = this._states;\n            }\n        }\n    }\n    get states() {\n        return this._states;\n    }\n    setRule(rule: Array<number> | Uint8Array) {\n        //Check if rule is valid\n        if (!rule || !this.nStateMap.has(rule.length)) {\n            console.error(\"invalid rule:\", rule);\n            return;\n        }\n        this.states = this.nStateMap.get(rule.length) || 2;\n        this.ruleData.set(rule);\n        this.regenRuleTex();\n    }\n    webGlSetup(shaders: Record<string, string>) {\n        //Create vertices for quad\n        const vertexArray = new Float32Array([\n            -1.0, 1.0, 1.0, 1.0, 1.0, -1.0,\n            -1.0, 1.0, 1.0, -1.0, -1.0, -1.0\n        ]);\n        const vertexBuffer = this.gl.createBuffer();\n        this.gl.bindBuffer(this.gl.ARRAY_BUFFER, vertexBuffer);\n        this.gl.bufferData(this.gl.ARRAY_BUFFER, vertexArray, this.gl.STATIC_DRAW);\n    \n        /* --- Simulator Shader Program --- */\n        //Build simulator shader program\n        this.simProgram = this.buildShaderProgram([\n            {type: this.gl.FRAGMENT_SHADER, name: \"simulate\", code: shaders[\"simulate\"]},\n            {type: this.gl.VERTEX_SHADER, name: \"vertex\", code: shaders[\"vertex\"]}\n        ])!;\n    \n        //Simulation uniforms\n        this.gl.useProgram(this.simProgram);\n        this.buildBinomial();\n        this.simUniforms = {\n            size:       {loc: this.gl.getUniformLocation(this.simProgram, \"uSize\")!},\n            sampler:    {loc: this.gl.getUniformLocation(this.simProgram, \"uSampler\")!},\n            binomial:   {loc: this.gl.getUniformLocation(this.simProgram, \"uBinomial\")!},\n            rule:       {loc: this.gl.getUniformLocation(this.simProgram, \"uRule\")!},\n            states:     {loc: this.gl.getUniformLocation(this.simProgram, \"uStates\")!},\n            subindices: {loc: this.gl.getUniformLocation(this.simProgram, \"uSubIndices\")!}\n        };\n\n        //Vertex position attribute\n        let aVertexPosition = this.gl.getAttribLocation(this.simProgram, \"aVertexPosition\");\n        this.gl.activeTexture(this.gl.TEXTURE0);\n        this.gl.vertexAttribPointer(aVertexPosition, 2, this.gl.FLOAT, false, 0, 0);\n        this.gl.enableVertexAttribArray(aVertexPosition);\n    \n        //Rule texture\n        this.setRule([0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0]);\n    \n        //Initialize uniforms\n        this.gl.uniform1i(this.simUniforms.sampler.loc, 0);\n        this.gl.uniform1i(this.simUniforms.rule.loc, 1);\n        this.gl.uniform1i(this.simUniforms.binomial.loc, 2);\n    \n        /* --- Colormap Shader Program --- */\n        //Build program\n        this.colorProgram = this.buildShaderProgram([\n            {type: this.gl.FRAGMENT_SHADER, name: \"colormap\", code: shaders[\"colormap\"]},\n            {type: this.gl.VERTEX_SHADER, name: \"vertex\", code: shaders[\"vertex\"]}\n        ])!;\n        this.gl.useProgram(this.colorProgram);\n\n        //Color map\n        this.colorMapTex = this.gl.createTexture()!;\n        this.gl.bindTexture(this.gl.TEXTURE_2D, this.colorMapTex);\n        this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGB, 14, 1, 0, this.gl.RGB, this.gl.UNSIGNED_BYTE, this.colorMap);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.NEAREST);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.NEAREST);\n    \n        //Uniforms\n        this.colorUniforms = {\n            sampler:    {loc: this.gl.getUniformLocation(this.colorProgram, \"uSampler\")},\n            colormap:   {loc: this.gl.getUniformLocation(this.colorProgram, \"uColorMap\")},\n            cam:        {loc: this.gl.getUniformLocation(this.colorProgram, \"uCam\")},\n            screen:     {loc: this.gl.getUniformLocation(this.colorProgram, \"uScreen\")},\n            simSize:    {loc: this.gl.getUniformLocation(this.colorProgram, \"uSimSize\")},\n            mouse:      {loc: this.gl.getUniformLocation(this.colorProgram, \"uMouse\"), val: [0, 0, -1, 50]},\n        };\n    \n        //Vertex position attribute\n        aVertexPosition = this.gl.getAttribLocation(this.colorProgram, \"aVertexPosition\");\n        this.gl.activeTexture(this.gl.TEXTURE0);\n        this.gl.vertexAttribPointer(aVertexPosition, 2, this.gl.FLOAT, false, 0, 0);\n        this.gl.enableVertexAttribArray(aVertexPosition);\n    \n        //Set these uniforms once\n        this.gl.uniform1i(this.colorUniforms.sampler.loc, 0);\n        this.gl.uniform1i(this.colorUniforms.colormap.loc, 1);\n        this.gl.uniform2fv(this.colorUniforms.screen.loc, [this.canvas.width, this.canvas.height]);\n    \n        /* --- Draw Shader Program --- */\n        //Build shader program\n        this.drawProgram = this.buildShaderProgram([\n            {type: this.gl.FRAGMENT_SHADER, name: \"drawing\", code: shaders[\"drawing\"]},\n            {type: this.gl.VERTEX_SHADER, name: \"vertex\", code: shaders[\"vertex\"]}\n        ])!;\n        this.gl.useProgram(this.drawProgram);\n    \n        //Uniforms\n        this.drawUniforms = {\n            size:       {loc: this.gl.getUniformLocation(this.drawProgram, \"uSize\")},\n            sampler:    {loc: this.gl.getUniformLocation(this.drawProgram, \"uSampler\")},\n            mouse:      {loc: this.gl.getUniformLocation(this.drawProgram, \"uMouse\"), val: [0, 0, -1, 50]},\n        };\n    \n        //Vertex position attribute\n        aVertexPosition = this.gl.getAttribLocation(this.drawProgram, \"aVertexPosition\");\n        this.gl.activeTexture(this.gl.TEXTURE0);\n        this.gl.vertexAttribPointer(aVertexPosition, 2, this.gl.FLOAT, false, 0, 0);\n        this.gl.enableVertexAttribArray(aVertexPosition);\n    \n        //Set these uniforms once\n        this.gl.uniform1i(this.drawUniforms.sampler.loc, 0);\n    }\n    resize() {\n        this.gl.useProgram(this.colorProgram!);\n        this.canvas.width = window.innerWidth;\n        this.canvas.height = window.innerHeight;\n        this.gl.uniform2fv(this.colorUniforms.screen.loc, [this.canvas.width, this.canvas.height]);\n    }\n}","<template>\n  <button ref=\"button\" class=\"options-button\" :class=\"shown ? 'button-active' : ''\" @click=\"onClick()\">\n    <span class=\"material-icons\">{{ icon_name }}</span>\n    <transition name=\"fade\">\n      <div @click.stop=\"\" class=\"rounded dropdown\" v-if=\"shown\">\n        <h1>{{ dropdown_title }}</h1>\n        <slot></slot>\n        <div class=\"sidebg\"></div>\n      </div>\n    </transition>\n  </button>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component';\n\n@Options({\n  props: [\"icon_name\", \"dropdown_title\", \"vd\"],\n  emits: [\n    \"hide-all\"\n  ],\n  data() {\n    return {\n      shown: false,\n      clicked: false\n    }\n  },\n  watch: {\n    vd() {\n      this.shown = this.clicked;\n      this.clicked = false;\n      // this.$refs.button.blur();\n    }\n  },\n  mounted() {\n    document.getElementById(\"glCanvas\")?.addEventListener(\"mousedown\", () => {\n      this.shown = false;\n    })\n  },\n  methods: {\n    onClick() {\n      this.$emit('hide-all');\n      if (!this.shown) {\n        this.clicked = true;\n      }\n      // this.$refs.button.blur();\n    }\n  }\n})\nexport default class Dropdown extends Vue {}\n</script>\n\n<style scoped>\n\n</style>","\nimport { Options, Vue } from 'vue-class-component';\n\n@Options({\n  props: [\"icon_name\", \"dropdown_title\", \"vd\"],\n  emits: [\n    \"hide-all\"\n  ],\n  data() {\n    return {\n      shown: false,\n      clicked: false\n    }\n  },\n  watch: {\n    vd() {\n      this.shown = this.clicked;\n      this.clicked = false;\n      // this.$refs.button.blur();\n    }\n  },\n  mounted() {\n    document.getElementById(\"glCanvas\")?.addEventListener(\"mousedown\", () => {\n      this.shown = false;\n    })\n  },\n  methods: {\n    onClick() {\n      this.$emit('hide-all');\n      if (!this.shown) {\n        this.clicked = true;\n      }\n      // this.$refs.button.blur();\n    }\n  }\n})\nexport default class Dropdown extends Vue {}\n","import { render } from \"./Dropdown.vue?vue&type=template&id=6d14d0ee&scoped=true\"\nimport script from \"./Dropdown.vue?vue&type=script&lang=ts\"\nexport * from \"./Dropdown.vue?vue&type=script&lang=ts\"\nscript.render = render\nscript.__scopeId = \"data-v-6d14d0ee\"\n\nexport default script","<template>\n  <button\n    ref=\"button\"\n    class=\"menu-button\" :class=\"anim\"\n    @mousedown=\"anim=''\"\n    @mouseup=\"anim='button-anim'\"\n    >\n    <slot></slot>\n  </button>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component';\n\n@Options({\n  data() {\n    return {\n      anim: \"\"\n    }\n  }\n})\nexport default class MenuButton extends Vue {}\n</script>\n\n<style scoped>\n\n</style>","\nimport { Options, Vue } from 'vue-class-component';\n\n@Options({\n  data() {\n    return {\n      anim: \"\"\n    }\n  }\n})\nexport default class MenuButton extends Vue {}\n","import { render } from \"./MenuButton.vue?vue&type=template&id=5b5fc26e&scoped=true\"\nimport script from \"./MenuButton.vue?vue&type=script&lang=ts\"\nexport * from \"./MenuButton.vue?vue&type=script&lang=ts\"\nscript.render = render\nscript.__scopeId = \"data-v-5b5fc26e\"\n\nexport default script","\nimport { Options, Vue } from 'vue-class-component';\nimport { Sim, randomizeDataBuffer } from '../sim'\nimport Dropdown from './Dropdown.vue';\nimport MenuButton from './MenuButton.vue';\n\nconst shaders = {\n  \"colormap\": require('../shaders/colormap.glsl').default,\n  \"drawing\": require('../shaders/drawing.glsl').default,\n  \"simulate\": require('../shaders/simulate.glsl').default,\n  \"vertex\": require('../shaders/vertex.glsl').default\n};\n\n// Process the presets stored inside rules.txt\nconst presetsRaw: string = require('../rules.txt').default;\nconst presets: Record<string, string> = {};\nfor (const line of presetsRaw.split(\"\\n\")) {\n  const split = line.split(\":: \");\n  presets[split[0].trim()] = split[1];\n}\n\n@Options({\n  components: {\n    \"dropdown\": Dropdown,\n    \"menu-button\": MenuButton\n  },\n  props: {\n  },\n  emits: [\n    \"hide-menu\"\n  ],\n  data() {\n    return {\n      simulator: null,\n      frameRate: \"\",\n      presetsShow: false,\n      hideall: true,\n      importDialogue: false\n    }\n  },\n  watch: {\n    'simulator.fps': function() {\n      this.frameRate = `${this.simulator.frames} frames/sec per ${this.simulator.steps} steps/sec`;\n      this.simulator.frames = 0;\n      this.simulator.steps = 0;\n    }\n  },\n  methods: {\n    blah() {\n      console.debug(\"blah\");\n    },\n    fillRandom() {\n      randomizeDataBuffer(this.simulator.states);\n      this.simulator.resetSim();\n    },\n    importRule() {\n      const success: boolean = this.simulator.importRule(this.$refs[\"input-area\"].value);\n      if (success) {\n        this.importDialogue = false;\n      } else {\n        this.$refs[\"import-button\"].anim = \"button-error\";\n      }\n    }\n  },\n  mounted() {\n    this.$refs[\"glCanvas\"].addEventListener(\"contextmenu\", (e: Event) => e.preventDefault());\n    this.simulator = new Sim(this.$refs[\"glCanvas\"] as HTMLCanvasElement, presets, shaders);\n    this.simulator.resize();\n    window.addEventListener(\"resize\", this.simulator.resize.bind(this.simulator));\n    window.addEventListener(\"mousemove\", this.simulator.mouseHandler.bind(this.simulator));\n    this.$refs[\"glCanvas\"].addEventListener(\"mousedown\", this.simulator.clickOn.bind(this.simulator));\n    this.$refs[\"glCanvas\"].addEventListener(\"mouseup\", this.simulator.clickOff.bind(this.simulator));\n    this.$refs[\"glCanvas\"].addEventListener(\"wheel\", this.simulator.onScrollWheel.bind(this.simulator));\n    window.addEventListener(\"keydown\", this.simulator.onKey.bind(this.simulator));\n    window.addEventListener(\"keyup\", this.simulator.onKeyUp.bind(this.simulator));\n    this.simulator.animateScene();\n  }\n})\nexport default class Automata extends Vue {}\n","import { render } from \"./Automata.vue?vue&type=template&id=796c36fa&scoped=true\"\nimport script from \"./Automata.vue?vue&type=script&lang=ts\"\nexport * from \"./Automata.vue?vue&type=script&lang=ts\"\n\nimport \"./Automata.vue?vue&type=style&index=0&id=796c36fa&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-796c36fa\"\n\nexport default script","\nimport { Options, Vue } from 'vue-class-component';\nimport Automata from './components/Automata.vue';\nimport Dropdown from './components/Dropdown.vue';\n\n@Options({\n  components: {\n    Automata,\n    Dropdown\n  },\n  data() {\n    return {\n    }\n  },\n  methods: {\n  }\n})\nexport default class App extends Vue {}\n","import { render } from \"./App.vue?vue&type=template&id=30e1380e\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=30e1380e&lang=css\"\nscript.render = render\n\nexport default script","import { createApp } from 'vue'\nimport App from './App.vue'\nimport './index.css'\n\n\ncreateApp(App).mount('#app')\n"],"sourceRoot":""}